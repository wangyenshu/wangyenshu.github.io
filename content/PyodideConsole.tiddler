<div title="PyodideConsole" modifier="Wang Yanshu" created="202502161845" modified="202502161927" creator="Wang Yanshu">
<pre><html>
<iframe src="data:text/html;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sPgogIDxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+CiAgICA8bWV0YQogICAgICBodHRwLWVxdWl2PSJvcmlnaW4tdHJpYWwiCiAgICAgIGNvbnRlbnQ9IkFxNnZ2LzRzeUlrY3lNc3pGZ0NjOUxsSDBrWDg4amRFN1NYZkNGbmgyUlFOMG5oaEw4bzZQQ1Eyb0UzYTduM21DNytkOW44OVJlcHc1SFlCdGphckR3NEFBQUIzZXlKdmNtbG5hVzRpT2lKb2RIUndjem92TDNCNWIyUnBaR1V1YjNKbk9qUTBNeUlzSW1abFlYUjFjbVVpT2lKWFpXSkJjM05sYldKc2VVcFRVSEp2YldselpVbHVkR1ZuY21GMGFXOXVJaXdpWlhod2FYSjVJam94TnpNd01qUTJNems1TENKcGMxTjFZbVJ2YldGcGJpSTZkSEoxWlgwPSIKICAgIC8+CiAgICA8bWV0YQogICAgICBodHRwLWVxdWl2PSJvcmlnaW4tdHJpYWwiCiAgICAgIGNvbnRlbnQ9IkFpOElYYjBYcWVkbE0vUTJndVdYRmZCa0tpWVk5dWFQWnBkakhxYzh5MFp2cEFmSzlTS3pwL2RJdUZIK3R4Ry9IRUt4dDU5dUlrazM5aGhXcmhOZ2J3NEFBQUJpZXlKdmNtbG5hVzRpT2lKb2RIUndPaTh2Ykc5allXeG9iM04wT2pnd01EQWlMQ0ptWldGMGRYSmxJam9pVjJWaVFYTnpaVzFpYkhsS1UxQnliMjFwYzJWSmJuUmxaM0poZEdsdmJpSXNJbVY0Y0dseWVTSTZNVGN6TURJME5qTTVPWDA9IgogICAgLz4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2pxdWVyeSI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9qcXVlcnkudGVybWluYWxAMi4zNS4yL2pzL2pxdWVyeS50ZXJtaW5hbC5taW4uanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vanF1ZXJ5LnRlcm1pbmFsQDIuMzUuMi9qcy91bml4X2Zvcm1hdHRpbmcubWluLmpzIj48L3NjcmlwdD4KICAgIDxsaW5rCiAgICAgIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vanF1ZXJ5LnRlcm1pbmFsQDIuMzUuMi9jc3MvanF1ZXJ5LnRlcm1pbmFsLm1pbi5jc3MiCiAgICAgIHJlbD0ic3R5bGVzaGVldCIKICAgIC8+CiAgICA8c3R5bGU+CiAgICAgIC50ZXJtaW5hbCB7CiAgICAgICAgLS1zaXplOiAxLjU7CiAgICAgICAgLS1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpOwogICAgICB9CiAgICAgIC5ub2JsaW5rIHsKICAgICAgICAtLWFuaW1hdGlvbjogdGVybWluYWwtbm9uZTsKICAgICAgfQogICAgICBib2R5IHsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsKICAgICAgfQogICAgICAjanF1ZXJ5LXRlcm1pbmFsLWxvZ28gewogICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICBib3JkZXItY29sb3I6IHdoaXRlOwogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICB0b3A6IDdweDsKICAgICAgICByaWdodDogMThweDsKICAgICAgICB6LWluZGV4OiAyOwogICAgICB9CiAgICAgICNqcXVlcnktdGVybWluYWwtbG9nbyBhIHsKICAgICAgICBjb2xvcjogZ3JheTsKICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgICAgZm9udC1zaXplOiAwLjdlbTsKICAgICAgfQogICAgICAjbG9hZGluZyB7CiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgIHdpZHRoOiA1MHB4OwogICAgICAgIGhlaWdodDogNTBweDsKICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgdG9wOiA1MCU7CiAgICAgICAgbGVmdDogNTAlOwogICAgICAgIGJvcmRlcjogM3B4IHNvbGlkIHJnYmEoMTcyLCAyMzcsIDI1NSwgMC41KTsKICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgYm9yZGVyLXRvcC1jb2xvcjogI2ZmZjsKICAgICAgICBhbmltYXRpb246IHNwaW4gMXMgZWFzZS1pbi1vdXQgaW5maW5pdGU7CiAgICAgICAgLXdlYmtpdC1hbmltYXRpb246IHNwaW4gMXMgZWFzZS1pbi1vdXQgaW5maW5pdGU7CiAgICAgIH0KCiAgICAgIEBrZXlmcmFtZXMgc3BpbiB7CiAgICAgICAgdG8gewogICAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOwogICAgICAgIH0KICAgICAgfQogICAgICBALXdlYmtpdC1rZXlmcmFtZXMgc3BpbiB7CiAgICAgICAgdG8gewogICAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOwogICAgICAgIH0KICAgICAgfQogICAgPC9zdHlsZT4KICA8L2hlYWQ+CiAgPGJvZHk+CiAgICA8ZGl2IGlkPSJqcXVlcnktdGVybWluYWwtbG9nbyI+CiAgICAgIDxhIGhyZWY9Imh0dHBzOi8vdGVybWluYWwuamN1YmljLnBsLyI+alF1ZXJ5IFRlcm1pbmFsPC9hPgogICAgPC9kaXY+CiAgICA8ZGl2IGlkPSJsb2FkaW5nIj48L2Rpdj4KICAgIDxzY3JpcHQ+CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIGZ1bmN0aW9uIHNsZWVwKHMpIHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgcykpOwogICAgICB9CgogICAgICBhc3luYyBmdW5jdGlvbiBtYWluKCkgewogICAgICAgIGxldCBpbmRleFVSTCA9ICJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvcHlvZGlkZS92MC4yNy4yL2Z1bGwvIjsKICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpOwogICAgICAgIGNvbnN0IGJ1aWxkUGFyYW0gPSB1cmxQYXJhbXMuZ2V0KCJidWlsZCIpOwogICAgICAgIGlmIChidWlsZFBhcmFtKSB7CiAgICAgICAgICBpZiAoWyJmdWxsIiwgImRlYnVnIiwgInB5YyJdLmluY2x1ZGVzKGJ1aWxkUGFyYW0pKSB7CiAgICAgICAgICAgIGluZGV4VVJMID0gaW5kZXhVUkwucmVwbGFjZSgKICAgICAgICAgICAgICAiL2Z1bGwvIiwKICAgICAgICAgICAgICAiLyIgKyB1cmxQYXJhbXMuZ2V0KCJidWlsZCIpICsgIi8iLAogICAgICAgICAgICApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS53YXJuKAogICAgICAgICAgICAgICdJbnZhbGlkIFVSTCBwYXJhbWV0ZXI6IGJ1aWxkPSInICsKICAgICAgICAgICAgICAgIGJ1aWxkUGFyYW0gKwogICAgICAgICAgICAgICAgJyIuIFVzaW5nIGRlZmF1bHQgImZ1bGwiLicsCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGNvbnN0IHsgbG9hZFB5b2RpZGUgfSA9IGF3YWl0IGltcG9ydChpbmRleFVSTCArICJweW9kaWRlLm1qcyIpOwogICAgICAgIC8vIHRvIGZhY2lsaXRhdGUgZGVidWdnaW5nCiAgICAgICAgZ2xvYmFsVGhpcy5sb2FkUHlvZGlkZSA9IGxvYWRQeW9kaWRlOwoKICAgICAgICBsZXQgdGVybTsKICAgICAgICBnbG9iYWxUaGlzLnB5b2RpZGUgPSBhd2FpdCBsb2FkUHlvZGlkZSh7CiAgICAgICAgICBzdGRpbjogKCkgPT4gewogICAgICAgICAgICBsZXQgcmVzdWx0ID0gcHJvbXB0KCk7CiAgICAgICAgICAgIGVjaG8ocmVzdWx0KTsKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgIH0sCiAgICAgICAgfSk7CiAgICAgICAgbGV0IHsgcmVwcl9zaG9ydGVuLCBCQU5ORVIsIFB5b2RpZGVDb25zb2xlIH0gPQogICAgICAgICAgcHlvZGlkZS5weWltcG9ydCgicHlvZGlkZS5jb25zb2xlIik7CiAgICAgICAgQkFOTkVSID0KICAgICAgICAgIGBXZWxjb21lIHRvIHRoZSBQeW9kaWRlICR7cHlvZGlkZS52ZXJzaW9ufSB0ZXJtaW5hbCBlbXVsYXRvciDwn5CNXG5gICsKICAgICAgICAgIEJBTk5FUjsKICAgICAgICBjb25zdCBweWNvbnNvbGUgPSBQeW9kaWRlQ29uc29sZShweW9kaWRlLmdsb2JhbHMpOwoKICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBweW9kaWRlLmdsb2JhbHMuZ2V0KCJkaWN0IikoKTsKICAgICAgICBjb25zdCBhd2FpdF9mdXQgPSBweW9kaWRlLnJ1blB5dGhvbigKICAgICAgICAgIGAKICAgICAgICAgIGltcG9ydCBidWlsdGlucwogICAgICAgICAgZnJvbSBweW9kaWRlLmZmaSBpbXBvcnQgdG9fanMKCiAgICAgICAgICBhc3luYyBkZWYgYXdhaXRfZnV0KGZ1dCk6CiAgICAgICAgICAgICAgcmVzID0gYXdhaXQgZnV0CiAgICAgICAgICAgICAgaWYgcmVzIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICBidWlsdGlucy5fID0gcmVzCiAgICAgICAgICAgICAgcmV0dXJuIHRvX2pzKFtyZXNdLCBkZXB0aD0xKQoKICAgICAgICAgIGF3YWl0X2Z1dAogICAgICAgICAgYCwKICAgICAgICAgIHsgZ2xvYmFsczogbmFtZXNwYWNlIH0sCiAgICAgICAgKTsKICAgICAgICBuYW1lc3BhY2UuZGVzdHJveSgpOwoKICAgICAgICBjb25zdCBlY2hvID0gKG1zZywgLi4ub3B0cykgPT4KICAgICAgICAgIHRlcm0uZWNobygKICAgICAgICAgICAgbXNnCiAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoIl1dIiwgIiZyc3FiOyZyc3FiOyIpCiAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoIltbIiwgIiZsc3FiOyZsc3FiOyIpLAogICAgICAgICAgICAuLi5vcHRzLAogICAgICAgICAgKTsKCiAgICAgICAgY29uc3QgcHMxID0gIj4+PiAiOwogICAgICAgIGNvbnN0IHBzMiA9ICIuLi4gIjsKCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gbG9jaygpIHsKICAgICAgICAgIGxldCByZXNvbHZlOwogICAgICAgICAgY29uc3QgcmVhZHkgPSB0ZXJtLnJlYWR5OwogICAgICAgICAgdGVybS5yZWFkeSA9IG5ldyBQcm9taXNlKChyZXMpID0+IChyZXNvbHZlID0gcmVzKSk7CiAgICAgICAgICBhd2FpdCByZWFkeTsKICAgICAgICAgIHJldHVybiByZXNvbHZlOwogICAgICAgIH0KCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gaW50ZXJwcmV0ZXIoY29tbWFuZCkgewogICAgICAgICAgY29uc3QgdW5sb2NrID0gYXdhaXQgbG9jaygpOwogICAgICAgICAgdGVybS5wYXVzZSgpOwogICAgICAgICAgLy8gbXVsdGlsaW5lIHNob3VsZCBiZSBzcGxpdCAodXNlZnVsIHdoZW4gcGFzdGluZykKICAgICAgICAgIGZvciAoY29uc3QgYyBvZiBjb21tYW5kLnNwbGl0KCJcbiIpKSB7CiAgICAgICAgICAgIGNvbnN0IGVzY2FwZWQgPSBjLnJlcGxhY2VBbGwoL1x1MDBhMC9nLCAiICIpOwogICAgICAgICAgICBjb25zdCBmdXQgPSBweWNvbnNvbGUucHVzaChlc2NhcGVkKTsKICAgICAgICAgICAgdGVybS5zZXRfcHJvbXB0KGZ1dC5zeW50YXhfY2hlY2sgPT09ICJpbmNvbXBsZXRlIiA/IHBzMiA6IHBzMSk7CiAgICAgICAgICAgIHN3aXRjaCAoZnV0LnN5bnRheF9jaGVjaykgewogICAgICAgICAgICAgIGNhc2UgInN5bnRheC1lcnJvciI6CiAgICAgICAgICAgICAgICB0ZXJtLmVycm9yKGZ1dC5mb3JtYXR0ZWRfZXJyb3IudHJpbUVuZCgpKTsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgIGNhc2UgImluY29tcGxldGUiOgogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgY2FzZSAiY29tcGxldGUiOgogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB0eXBlICR7dHl9YCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gSW4gSmF2YVNjcmlwdCwgYXdhaXQgYXV0b21hdGljYWxseSBhbHNvIGF3YWl0cyBhbnkgcmVzdWx0cyBvZgogICAgICAgICAgICAvLyBhd2FpdHMsIHNvIGlmIGFuIGFzeW5jIGZ1bmN0aW9uIHJldHVybnMgYSBmdXR1cmUsIGl0IHdpbGwgYXdhaXQKICAgICAgICAgICAgLy8gdGhlIGlubmVyIGZ1dHVyZSB0b28uIFRoaXMgaXMgbm90IHdoYXQgd2Ugd2FudCBzbyB3ZQogICAgICAgICAgICAvLyB0ZW1wb3JhcmlseSBwdXQgaXQgaW50byBhIGxpc3QgdG8gcHJvdGVjdCBpdC4KICAgICAgICAgICAgY29uc3Qgd3JhcHBlZCA9IGF3YWl0X2Z1dChmdXQpOwogICAgICAgICAgICAvLyBjb21wbGV0ZSBjYXNlLCBnZXQgcmVzdWx0IC8gZXJyb3IgYW5kIHByaW50IGl0LgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGNvbnN0IFt2YWx1ZV0gPSBhd2FpdCB3cmFwcGVkOwogICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBlY2hvKAogICAgICAgICAgICAgICAgICByZXByX3Nob3J0ZW4uY2FsbEt3YXJncyh2YWx1ZSwgewogICAgICAgICAgICAgICAgICAgIHNlcGFyYXRvcjogIlxuPGxvbmcgb3V0cHV0IHRydW5jYXRlZD5cbiIsCiAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgcHlvZGlkZS5mZmkuUHlQcm94eSkgewogICAgICAgICAgICAgICAgdmFsdWUuZGVzdHJveSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIGlmIChlLmNvbnN0cnVjdG9yLm5hbWUgPT09ICJQeXRob25FcnJvciIpIHsKICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBmdXQuZm9ybWF0dGVkX2Vycm9yIHx8IGUubWVzc2FnZTsKICAgICAgICAgICAgICAgIHRlcm0uZXJyb3IobWVzc2FnZS50cmltRW5kKCkpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aHJvdyBlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICBmdXQuZGVzdHJveSgpOwogICAgICAgICAgICAgIHdyYXBwZWQuZGVzdHJveSgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0ZXJtLnJlc3VtZSgpOwogICAgICAgICAgYXdhaXQgc2xlZXAoMTApOwogICAgICAgICAgdW5sb2NrKCk7CiAgICAgICAgfQoKICAgICAgICB0ZXJtID0gJCgiYm9keSIpLnRlcm1pbmFsKGludGVycHJldGVyLCB7CiAgICAgICAgICBncmVldGluZ3M6IEJBTk5FUiwKICAgICAgICAgIHByb21wdDogcHMxLAogICAgICAgICAgY29tcGxldGlvbkVzY2FwZTogZmFsc2UsCiAgICAgICAgICBjb21wbGV0aW9uOiBmdW5jdGlvbiAoY29tbWFuZCwgY2FsbGJhY2spIHsKICAgICAgICAgICAgY2FsbGJhY2socHljb25zb2xlLmNvbXBsZXRlKGNvbW1hbmQpLnRvSnMoKVswXSk7CiAgICAgICAgICB9LAogICAgICAgICAga2V5bWFwOiB7CiAgICAgICAgICAgICJDVFJMK0MiOiBhc3luYyBmdW5jdGlvbiAoZXZlbnQsIG9yaWdpbmFsKSB7CiAgICAgICAgICAgICAgcHljb25zb2xlLmJ1ZmZlci5jbGVhcigpOwogICAgICAgICAgICAgIHRlcm0uZW50ZXIoKTsKICAgICAgICAgICAgICBlY2hvKCJLZXlib2FyZEludGVycnVwdCIpOwogICAgICAgICAgICAgIHRlcm0uc2V0X2NvbW1hbmQoIiIpOwogICAgICAgICAgICAgIHRlcm0uc2V0X3Byb21wdChwczEpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBUQUI6IChldmVudCwgb3JpZ2luYWwpID0+IHsKICAgICAgICAgICAgICBjb25zdCBjb21tYW5kID0gdGVybS5iZWZvcmVfY3Vyc29yKCk7CiAgICAgICAgICAgICAgLy8gRGlzYWJsZSBjb21wbGV0aW9uIGZvciB3aGl0ZXNwYWNlcy4KICAgICAgICAgICAgICBpZiAoY29tbWFuZC50cmltKCkgPT09ICIiKSB7CiAgICAgICAgICAgICAgICB0ZXJtLmluc2VydCgiXHQiKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsKGV2ZW50KTsKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgfSk7CiAgICAgICAgd2luZG93LnRlcm0gPSB0ZXJtOwogICAgICAgIHB5Y29uc29sZS5zdGRvdXRfY2FsbGJhY2sgPSAocykgPT4gZWNobyhzLCB7IG5ld2xpbmU6IGZhbHNlIH0pOwogICAgICAgIHB5Y29uc29sZS5zdGRlcnJfY2FsbGJhY2sgPSAocykgPT4gewogICAgICAgICAgdGVybS5lcnJvcihzLnRyaW1FbmQoKSk7CiAgICAgICAgfTsKICAgICAgICB0ZXJtLnJlYWR5ID0gUHJvbWlzZS5yZXNvbHZlKCk7CiAgICAgICAgcHlvZGlkZS5fYXBpLm9uX2ZhdGFsID0gYXN5bmMgKGUpID0+IHsKICAgICAgICAgIGlmIChlLm5hbWUgPT09ICJFeGl0IikgewogICAgICAgICAgICB0ZXJtLmVycm9yKGUpOwogICAgICAgICAgICB0ZXJtLmVycm9yKCJQeW9kaWRlIGV4aXRlZCBhbmQgY2FuIG5vIGxvbmdlciBiZSB1c2VkLiIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGVybS5lcnJvcigKICAgICAgICAgICAgICAiUHlvZGlkZSBoYXMgc3VmZmVyZWQgYSBmYXRhbCBlcnJvci4gUGxlYXNlIHJlcG9ydCB0aGlzIHRvIHRoZSBQeW9kaWRlIG1haW50YWluZXJzLiIsCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHRlcm0uZXJyb3IoIlRoZSBjYXVzZSBvZiB0aGUgZmF0YWwgZXJyb3Igd2FzOiIpOwogICAgICAgICAgICB0ZXJtLmVycm9yKGUpOwogICAgICAgICAgICB0ZXJtLmVycm9yKCJMb29rIGluIHRoZSBicm93c2VyIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy4iKTsKICAgICAgICAgIH0KICAgICAgICAgIGF3YWl0IHRlcm0ucmVhZHk7CiAgICAgICAgICB0ZXJtLnBhdXNlKCk7CiAgICAgICAgICBhd2FpdCBzbGVlcCgxNSk7CiAgICAgICAgICB0ZXJtLnBhdXNlKCk7CiAgICAgICAgfTsKCiAgICAgICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTsKICAgICAgICBpZiAoc2VhcmNoUGFyYW1zLmhhcygibm9ibGluayIpKSB7CiAgICAgICAgICAkKCIuY21kLWN1cnNvciIpLmFkZENsYXNzKCJub2JsaW5rIik7CiAgICAgICAgfQoKICAgICAgICBsZXQgaWRia3ZQcm9taXNlOwogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGdldElEQktWKCkgewogICAgICAgICAgaWYgKCFpZGJrdlByb21pc2UpIHsKICAgICAgICAgICAgaWRia3ZQcm9taXNlID0gYXdhaXQgaW1wb3J0KAogICAgICAgICAgICAgICJodHRwczovL3VucGtnLmNvbS9pZGIta2V5dmFsQDUuMC4yL2Rpc3QvZXNtL2luZGV4LmpzIgogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGlkYmt2UHJvbWlzZTsKICAgICAgICB9CgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIG1vdW50RGlyZWN0b3J5KHB5b2RpZGVEaXJlY3RvcnksIGRpcmVjdG9yeUtleSkgewogICAgICAgICAgaWYgKHB5b2RpZGUuRlMuYW5hbHl6ZVBhdGgocHlvZGlkZURpcmVjdG9yeSkuZXhpc3RzKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGNvbnN0IHsgZ2V0LCBzZXQgfSA9IGF3YWl0IGdldElEQktWKCk7CiAgICAgICAgICBjb25zdCBvcHRzID0gewogICAgICAgICAgICBpZDogIm1vdW50ZGlyaWQiLAogICAgICAgICAgICBtb2RlOiAicmVhZHdyaXRlIiwKICAgICAgICAgIH07CiAgICAgICAgICBsZXQgZGlyZWN0b3J5SGFuZGxlID0gYXdhaXQgZ2V0KGRpcmVjdG9yeUtleSk7CiAgICAgICAgICBpZiAoIWRpcmVjdG9yeUhhbmRsZSkgewogICAgICAgICAgICBkaXJlY3RvcnlIYW5kbGUgPSBhd2FpdCBzaG93RGlyZWN0b3J5UGlja2VyKG9wdHMpOwogICAgICAgICAgICBhd2FpdCBzZXQoZGlyZWN0b3J5S2V5LCBkaXJlY3RvcnlIYW5kbGUpOwogICAgICAgICAgfQogICAgICAgICAgY29uc3QgcGVybWlzc2lvblN0YXR1cyA9CiAgICAgICAgICAgIGF3YWl0IGRpcmVjdG9yeUhhbmRsZS5yZXF1ZXN0UGVybWlzc2lvbihvcHRzKTsKICAgICAgICAgIGlmIChwZXJtaXNzaW9uU3RhdHVzICE9PSAiZ3JhbnRlZCIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJyZWFkd3JpdGUgYWNjZXNzIHRvIGRpcmVjdG9yeSBub3QgZ3JhbnRlZCIpOwogICAgICAgICAgfQogICAgICAgICAgYXdhaXQgcHlvZGlkZS5tb3VudE5hdGl2ZUZTKHB5b2RpZGVEaXJlY3RvcnksIGRpcmVjdG9yeUhhbmRsZSk7CiAgICAgICAgfQogICAgICAgIGdsb2JhbFRoaXMubW91bnREaXJlY3RvcnkgPSBtb3VudERpcmVjdG9yeTsKICAgICAgfQogICAgICB3aW5kb3cuY29uc29sZV9yZWFkeSA9IG1haW4oKTsKICAgIDwvc2NyaXB0PgogIDwvYm9keT4KPC9odG1sPgo="
              height="300px" width="500px">
</html>
Credits to https://github.com/pyodide/pyodide/blob/main/src/templates/console.html</pre>
</div>
