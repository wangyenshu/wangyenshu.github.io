<div title="InstantBookmarklets" modifier="Wang Yanshu" created="200712142337" modified="202506280432" tags="transclusion bookmarklet">
<pre>/%
|Name|InstantBookmarklets|
|Source|http://www.TiddlyTools.com/#InstantBookmarklets|
|Version|2.0.0|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|transclusion bookmarklet|
|Description|instantly create bookmarklets by dragging onclick links to the browser toolbar|

!help
To create a bookmarklet, simply drag-and-drop any command link below directly onto your browser's toolbar or right-click and use 'bookmark this link' (or 'add to favorites') to add the bookmarklet to your browser's bookmarks menu.

Once installed, you can use the bookmarklet with ANY TiddlyWiki document, even if the command script (and InlineJavascriptPlugin) has not been installed in that document!
!end

%/{{nowrap{
__[[InstantBookmarklets:|InstantBookmarklets]]__{{fine{
&nbsp; //drag these links to your browser toolbar!// <html><nowiki><a href='javascript:;' onclick="alert(store.getTiddlerText('InstantBookmarklets##help')); return false;">(help...)</a></html>}}}
//~TiddlyWiklets: {{fine{(TiddlyWiki "tear-off" utilities)}}}///%

========================== TOGGLE SITE TITLES %/
*<html><nowiki><a href="javascript:;"  title="show/hide SiteTitle and SiteSubtitle (header) content"
onmouseover="
	this.href='javascript:void(eval(decodeURIComponent(%22(function(){try{('
	+encodeURIComponent(encodeURIComponent(this.onclick))
	+')()}catch(e){alert(e.description?e.description:e.toString())}})()%22)))';"
onclick="
	var c=document.getElementById('contentWrapper');  if (!c) return;
	for (var i=0; i<c.childNodes.length; i++)
		if (hasClass(c.childNodes[i],'header')) { var h=c.childNodes[i]; break; }
	if (!h) return;
	config.options.chkHideSiteTitles=h.style.display!='none';
	h.style.display=config.options.chkHideSiteTitles?'none':'block';
	saveOptionCookie('chkHideSiteTitles');
	return false;
">&#x25b2; - Toggle site titles</a></html>/%

========================== TOGGLE LEFT SIDEBAR %/
*<<tiddler ToggleLeftSidebar with: "&#x25c4; - Toggle left sidebar">>/%

========================== TOGGLE RIGHT SIDEBAR %/
*<<tiddler ToggleRightSidebar with: "&#x25ba; - Toggle right sidebar">>/%

========================== TOGGLE ANIMATION EFFECTS %/
*<<tiddler ToggleAnimations with: "&infin; - Toggle animation effects">>/%

========================== TOGGLE "FULLSCREEN" (SIDEBARS AND TITLES) %/
*<<tiddler ToggleFullScreen with: "&loz; - Toggle fullscreen ON" "&loz; - Toggle fullscreen OFF">>/%

========================== TOGGLE TIDDLER TITLES (and SUBTITLES) %/
*<<tiddler ToggleTiddlerTitles with: "T - Toggle tiddler titles">>/%

========================== TOGGLE TIDDLER TAGS %/
*<<tiddler ToggleTiddlerTags with: "# - Toggle tiddler tags">>/%

========================== RESTART WITHOUT RELOADING %/
*<html><nowiki><a href="javascript:;"  title="Restart initial page content WITHOUT RELOADING!"
onmouseover="
	this.href='javascript:void(eval(decodeURIComponent(%22(function(){try{('
	+encodeURIComponent(encodeURIComponent(this.onclick))
	+')()}catch(e){alert(e.description?e.description:e.toString())}})()%22)))';"
onclick="
	story.closeAllTiddlers(); restart(); refreshPageTemplate(); 
 	return false;
">&#x2302; - Home</a></html>/%

========================== REFRESH WITHOUT RESTARTING %/
*<<tiddler RefreshPageDisplay with: "&asymp; - Refresh current display">>/%

========================== SHOW CURRENT VERSION, TIMESTAMP, and TIDDLER INFO %/
*<<tiddler ShowDocumentInfo>>/%

========================== RESET TIDDLYWIKI OPTION COOKIES (WITH CONFIRM) %/
*<<tiddler ResetOptionCookies>>/%

========================== CLEAR CHANGE COUNTERS %/
*<<tiddler ResetChangeCounters>>/%

========================== SAVE FROM CLIPBOARD ("rescue storeArea") %/
*<<tiddler SaveToClipboard with: "&sum; - Save current storeArea contents to clipboard">>/%

========================== LOAD REMOTE PLUGINS...%/
[[Load remote plugins|LoadRemotePlugin]]: {{fine{(//load on demand//)}}}
<<tiddler LoadRemotePlugin##Examples>>/%

}}}/%  END NOWRAP %/
!Misc
Encrypt/Decrypt Bookmarklet 
by https://qiita.com/useiichi/items/0786199ee61443df3af5
{{{
javascript:w=window.open('','Links','scrollbars,resizable,width=640,height=550');w.document.write('<!DOCTYPE%20html><html><head><meta%20charset="utf-8"/><script%20src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/core.js"></script><script%20src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.js"></script><script%20src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/hmac.js"></script><script%20src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.js"></script><script%20src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/cipher-core.js"></script><script%20src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/aes.js"></script><script%20src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/pbkdf2.js"></script><script%20type="text/javascript">function%20encrypt(){var%20encypt_text=document.getElementById("encypt-text").value;var%20pass=CryptoJS.enc.Utf8.parse(document.getElementById("encrypt-password").value);var%20salt=CryptoJS.lib.WordArray.random(128/8);var%20key=CryptoJS.PBKDF2(pass,salt,{keySize:256/32,iterations:100});var%20iv=CryptoJS.lib.WordArray.random(128/8);var%20options={iv:iv,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7};var%20encrypted=CryptoJS.AES.encrypt(encypt_text,key,options);document.getElementById("transitmessage").value=salt.toString()+iv.toString()+encrypted.toString();}function%20decrypt(){document.getElementById("decrypted").value="";var%20transitmessage=document.getElementById("transitmessage").value;var%20salt=CryptoJS.enc.Hex.parse(transitmessage.substr(0,32));var%20iv=CryptoJS.enc.Hex.parse(transitmessage.substr(32,32));var%20encrypted=transitmessage.substring(64);var%20pass=CryptoJS.enc.Utf8.parse(document.getElementById("decrypt-password").value);var%20key=CryptoJS.PBKDF2(pass,salt,{keySize:256/32,iterations:100});var%20options={iv:iv,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7};var%20decrypted=CryptoJS.AES.decrypt(encrypted,key,options);document.getElementById("decrypted").value=decrypted.toString(CryptoJS.enc.Utf8);}</script></head><body><label%20for="encypt-text">暗号化するテキスト：</label><br%20/><textarea%20id="encypt-text"%20rows="8"%20cols="85">Hello</textarea><br%20/>&nbsp;↓&nbsp;<label%20for="encrypt-password">暗号化パスワード：</label><br%20/>&nbsp;↓&nbsp;<input%20id="encrypt-password"%20type="text"%20size="80"%20value="password"%20/><br%20/>&nbsp;↓&nbsp;<input%20id="encrypt"%20type="button"%20value="暗号化する"%20onclick="encrypt()"%20/><br%20/><label%20for="transitmessage">暗号文：</label><br%20/><textarea%20id="transitmessage"%20rows="4"%20cols="85"></textarea><br%20/>&nbsp;↓&nbsp;<label%20for="decrypt-password">復号パスワード：</label><br%20/>&nbsp;↓&nbsp;<input%20id="decrypt-password"%20type="text"%20size="80"%20value="password"%20/><br%20/>&nbsp;↓&nbsp;<input%20id="decrypt"%20type="button"%20value="復号する"%20onclick="decrypt()"%20/><br%20/><label%20for="decrypted">復号された平文：</label><br%20/><textarea%20id="decrypted"%20rows="8"%20cols="85"></textarea></body></html>');
}}}
Vertical split screen
{{{
javascript:(function (w,d)%7Bvar href=location.href;var website=w.prompt('%E8%AF%B7%E8%BE%93%E5%85%A5%E7%BD%91%E5%9D%80','')%7C%7Chref;d.write('<HTML><HEAD></HEAD><FRAMESET COLS=%5C'50%25,*%5C'><FRAME SRC='+location.href+'><FRAME SRC='+website+'></FRAMESET></HTML>');%7D)(window,document)
}}}
Horizontal split screen
{{{
javascript:(function (w,d)%7Bvar href=location.href;var website=w.prompt('%E8%AF%B7%E8%BE%93%E5%85%A5%E7%BD%91%E5%9D%80','')%7C%7Chref;d.write('<HTML><HEAD></HEAD><FRAMESET ROWS=%5C'50%25,*%5C'><FRAME SRC='+location.href+'><FRAME SRC='+website+'></FRAMESET></HTML>');%7D)(window,document)
}}}
Scientific Calculator
by https://ostermiller.org/bookmarklets/calculator.html
{{{
javascript:void((function(){var window_open = window.open('','calculator'+new Date().getTime(),'toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=yes,copyhistory=no,width=450,height=300');var document_open = window_open.document;document_open.open();document_open.write("<!DOCTYPE html PUBLIC %5C"-//W3C//DTD HTML 4.01 Transitional//EN%5C">%5Cn<html>%5Cn<head>%5Cn<title>Scientific Calculator</title>%5Cn<meta name=%5C"description%5C" content=%5C"Javascript calculator with calculation history, math functions, hexadecimal, octal, and scientific notation.%5C">%5Cn<meta name=%5C"keywords%5C" content=%5C"calculator, octal calculator, binary calculator, hexidecimal calculator, hexadecimal calculator, calc, calculate, calculater, scientific calculator, hex calculator, scientific notation calculator, javascript calculator, java script calculator, freeware calculator, free calculator, online calculator, calculater%5C">%5Cn<link rel=%5C"shortcut icon%5C" href=%5C"http://ostermiller.org/favicon.ico%5C" type=%5C"image/x-icon%5C">%5Cn<link rel=%5C"shortcut icon%5C" href=%5C"http://ostermiller.org/calc/calculator.ico%5C" type=%5C"image/x-icon%5C">%5Cn<script language=javascript type=%5C"text/javascript%5C"><!--%5Cnvar bo=%5C'%5C';var da=%5C'%5C';var bm=%5C'%5C';var bn=%5C'%5C'%5Cnvar br=false;var bg=1;var ck=%5C'(?:[0-9a-fA-F])%5C';var cb=%5C'(?:[0-9])%5C';var co=%5C'(?:[0-7])%5C';var cn=%5C'(?:[1-9])%5C';var cr=%5C'(?:[%5C%5C+]|[%5C%5C-])%5C';var ca=%5C'(?:(?:[0]|%5C'+cn+cb+%5C'*))%5C';var cp=%5C'(?:[0]%5C'+co+%5C'*)%5C';var cl=%5C'(?:[0](?:[x]|[X])%5C'+ck+%5C'+)%5C';var credInt=%5C'(?:%5C'+cr+%5C'?%5C'+cb+%5C'+)%5C';var cc=%5C'(?:[e]|[E])%5C';var cd=%5C'(?:%5C'+cc+credInt+%5C')%5C';var ce1=%5C'(?:%5C'+cb+%5C'+[%5C%5C.]%5C'+cb+%5C'*%5C'+cd+%5C'?)%5C';var cg=%5C'(?:[%5C%5C.]%5C'+cb+%5C'+%5C'+cd+%5C'?)%5C';var ch=%5C'(?:%5C'+cb+%5C'+%5C'+cd+%5C')%5C';var ci=%5C'(?:%5C'+cb+%5C'+)%5C';var ce=%5C'(?:%5C'+ce1+%5C'|%5C'+cg+%5C'|%5C'+ch+%5C'|%5C'+ci+%5C')%5C';var cv1=%5C'(?:[0]+[%5C%5C.][0]*%5C'+cd+%5C'?)%5C';var cx=%5C'(?:[%5C%5C.][0]+%5C'+cd+%5C'?)%5C';var cv3=%5C'(?:[0]+%5C'+cd+%5C')%5C';var cv4=%5C'(?:[0]+)%5C';var cv=%5C'(?:%5C'+cv1+%5C'|%5C'+cx+%5C'|%5C'+cv3+%5C'|%5C'+cv4+%5C')%5C';var ct=%5C'(?:[%5C%5Cn%5C%5C %5C%5Ct])%5C';var cq=%5C'(?:[%5C%5C(%5C%5C)%5C%5C+%5C%5C-%5C%5C/%5C%5C*%5C%5C|%5C%5C&%5C%5C,%5C%5C~%5C%5C^]|%5C%5C<%5C%5C<|%5C%5C>%5C%5C>|%5C%5C>%5C%5C>%5C%5C>|%5C%5C%)%5C'%5Cnvar cm=%5C'(?:E|LN10|LN2|LOG10E|LOG2E|PI|SQRT1_2|SQRT2|abs|acos|asin|atan2|atan|ceil|cos|exp|floor|log|max|min|pow|random|round|sin|sqrt|tan)%5C'%5Cnvar cj=%5C'(?:(?:Math[%5C%5C.]%5C'+cm+%5C')|%5C'+cm+%5C')%5C';var bz=new RegExp(%5Cn cl+%5C'|%5C'+cp+%5C'|%5C'+ce+%5C'|%5C'+ca+%5C'|%5C'+%5Cn cv+%5C'|%5C'+ct+%5C'|%5C'+cq+%5C'|%5C'+cj+%5C'|ans%5C',%5C'g%5C'%5Cn);var E=Math.E;var LN10=Math.LN10;var LN2=Math.LN2;var LOG10E=Math.LOG10E;var LOG2E=Math.LOG2E;var PI=Math.PI;var SQRT1_2=Math.SQRT1_2;var SQRT2=Math.SQRT2;function abs(x){return Math.abs(x);}%5Cnfunction acos(x){return Math.acos(x);}%5Cnfunction asin(x){return Math.asin(x);}%5Cnfunction atan(x){return Math.atan(x);}%5Cnfunction atan2(x){return Math.atan2(x);}%5Cnfunction ceil(x){return Math.ceil(x);}%5Cnfunction cos(x){return Math.cos(x);}%5Cnfunction exp(x){return Math.exp(x);}%5Cnfunction floor(x){return Math.floor(x);}%5Cnfunction log(x){return Math.log(x);}%5Cnfunction max(x,y){return Math.max(x,y);}%5Cnfunction min(x,y){return Math.min(x,y);}%5Cnfunction pow(x,y){return Math.pow(x,y);}%5Cnfunction random(){return Math.random();}%5Cnfunction round(x){return Math.round(x);}%5Cnfunction sin(x){return Math.sin(x);}%5Cnfunction sqrt(x){return Math.sqrt(x);}%5Cnfunction tan(x){return Math.tan(x);}%5Cnfunction an(s){%5Cn var r=new RegExp(%5C"^((?:[a]|[^a])*)0[bB]([01]{1,32})((?:[a]|[^a])*)$%5C"); while(r.exec(s)){%5Cn s=RegExp.$1+%5C" %5C"+ah(RegExp.$2)+%5C" %5C"+RegExp.$3; }%5Cn return s;}%5Cnfunction am(s){%5Cn var r=new RegExp(%5C"^((?:[a]|[^a])*)ans((?:[a]|[^a])*)$%5C"); while(r.exec(s)){%5Cn s=RegExp.$1+%5C" %5C"+da+%5C" %5C"+RegExp.$2; }%5Cn return s;}%5Cnfunction ag(){%5Cn var ba=document.calculator.line.value; var bq=am(ba); bq=an(bq); if(bq!=bn&&bq!=bm&&!br){%5Cn var bv=bq.split(bz); var bw=0; for(var k=0;k<bv.length;k++){%5Cn if(bv[k].length!=0){%5Cn bw++; }%5Cn }%5Cn if(bw==0){%5Cn try{%5Cn var aw=%5C'%5C'+eval(bq); if(aw!=undefined){%5Cn bo=aw; da=aw; bm=%5C'%5C'; af(); aa(ba); ao(); }%5Cn }catch(ex){%5Cn alert(%5C'Error type: %5C'+ex.name+%5C'%5C%5Cn%5C'+%5C'Error message: %5C'+ex.message); bm=document.calculator.line.value; }%5Cn }else{%5Cn alert(bw+%5C' unknown tokens:%5C%5Cn%5C'+bv); bm=document.calculator.line.value; }%5Cn document.calculator.line.focus(); }%5Cn}%5Cnfunction aj(){%5Cn if(bn!=document.calculator.line.value){%5Cn bo=%5C'%5C'; }%5Cn}%5Cnfunction af(){%5Cn if(bo!=%5C'%5C'){%5Cn var db=document.calculator.display.selectedIndex; var bj=parseInt(bo); var bd=parseFloat(bo); var dj=%5C'%5C'; if(%5C'%5C'+bd!=%5C'NaN%5C'&&db==1){%5Cn dj=at(bo,false); }else if(%5C'%5C'+bd!=%5C'NaN%5C'&&db==2){%5Cn dj=at(bo,true); }else if(%5C'%5C'+bj!=%5C'NaN%5C'&&db==3){%5Cn dj=ar(bj); }else if(%5C'%5C'+bj!=%5C'NaN%5C'&&db==4){%5Cn dj=as(bj); }else if(%5C'%5C'+bj!=%5C'NaN%5C'&&db==5){%5Cn dj=aq(bj); }else{%5Cn dj=round_extra_sf(bd); }%5Cn bn=dj; document.calculator.line.value=dj; bg=1; document.calculator.line.style.backgroundColor=%5C'#aacc99%5C';%20}else{%5Cn%20document.calculator.line.style.backgroundColor=%5C'#cccc99%5C';%20}%5Cn}%5Cnfunction%20round_extra_sf(f){%5Cnvar%20s=f.toPrecision(14);%20s=s.replace(/^([%5C%5C+%5C%5C-0-9%5C%5C%5C%5C.]*[1-9%5C%5C.])0+((?:e[0-9%5C%5C+%5C%5C-]+)?)$/g,%5C'$1$2%5C');%20s=s.replace(/%5C%5C.((?:e[0-9%5C%5C+%5C%5C-]+)?)$/g,%5C'$1%5C');return%20s;}%5Cnfunction%20at(s,eng){%5Cn%20var%20df=0;%20var%20bl=false;%20if(s.length>0&&s.charAt(0)==%5C'-%5C'){%5Cn%20bl=true;%20s=s.substring(1,s.length);%20}%5Cn%20var%20cu=s.split(new%20RegExp(%5C'[eE]%5C'));%20if(cu.length>1){%5Cn%20df=parseInt(cu[1]);%20s=cu[0];%20}%5Cn%20cu=s.split(/[%5C%5C.]/);%20if(cu.length>1){%5Cn%20s=cu[0]+cu[1];%20df+=cu[0].length-1;%20}else{%5Cn%20df+=s.length-1;%20}%5Cn%20var%20bp=0;%20for(bp=0;bp<s.length&&s.charAt(bp)==%5C'0%5C';bp++){%5Cn%20df=df-1;%20}%5Cn%20s=s.substring(bp,s.length);%20var%20bs;%20if(eng){%5Cn%20if(df>=0){%5Cn%20bs=(df%3)+1;%20}else{%5Cn%20bs=4-((-df)%3);%20if(bs==4){%5Cn%20bs=1;%20}%5Cn%20}%5Cn%20df-=(bs-1);%20}else{%5Cn%20bs=1;%20}%5Cn%20var%20dk=%5C'%5C';%20for(var%20i=s.length;i<bs;i++){%5Cn%20dk+=%5C'0%5C';%20}%5Cn%20return(%5Cn%20(bl?%5C'-%5C':%5C'%5C')+%5Cn%20((s.length==0)?%5C'0%5C':s.substring(0,bs))+%5Cn%20((s.length<=bs)?dk:(%5C'.%5C'+s.substring(bs,s.length)))+%5Cn%20((s.length==0||df==0)?%5C'%5C':(%5C'e%5C'+df))%5Cn%20);}%5Cnvar%20bb=new%20Array(%5C'0%5C',%5C'1%5C',%5C'2%5C',%5C'3%5C',%5C'4%5C',%5C'5%5C',%5C'6%5C',%5C'7%5C',%5C'8%5C',%5C'9%5C',%5C'a%5C',%5C'b%5C',%5C'c%5C',%5C'd%5C',%5C'e%5C',%5C'f%5C');function%20ar(n){%5Cn%20var%20be=%5C'%5C'%5Cn%20var%20di=true;%20for(var%20i=32;i>0;){%5Cn%20i-=4;%20var%20by=(n>>i)&0xf;%20if(!di||by!=0){%5Cn%20di=false;%20be+=bb[by];%20}%5Cn%20}%5Cn%20return%20%5C'0x%5C'+(be==%5C'%5C'?%5C'0%5C':be);}%5Cnfunction%20as(n){%5Cn%20var%20bx=%5C'%5C'%5Cn%20var%20di=true;%20for(var%20i=33;i>0;){%5Cn%20i-=3;%20var%20by=(n>>i)&0x7;%20if(!di||by!=0){%5Cn%20di=false;%20bx+=bb[by];%20}%5Cn%20}%5Cn%20return%20%5C'0%5C'+(bx==%5C'%5C'?%5C'0%5C':bx);}%5Cnfunction%20aq(n){%5Cn%20var%20au=%5C'%5C'%5Cn%20var%20di=true;%20for(var%20i=32;i>0;){%5Cn%20i-=1;%20var%20by=(n>>i)&0x1;%20if(!di||by!=0){%5Cn%20di=false;%20au+=bb[by];%20}%5Cn%20}%5Cn%20return%20%5C'0b%5C'+(au==%5C'%5C'?%5C'0%5C':au);}%5Cnfunction%20ah(s){%5Cn%20var%20au=0;%20var%20dh=0;%20var%20i=s.length-1;%20while(i>=0&&dh<32){%5Cn%20if(s.charAt(i)==%5C'1%5C'){%5Cn%20au|=1<<dh;%20}%5Cn%20dh++;%20i-=1;%20}%5Cn%20return%20au;}%5Cnfunction%20ap(s){%5Cn%20if(!br&&s!=%5C'%5C'){%5Cn%20bo=%5C'%5C';%20bm=s;%20document.calculator.line.value=s;%20document.calculator.line.focus();%20bm=%5C'%5C';%20bn=%5C'%5C';%20bg=1;%20document.calculator.line.style.backgroundColor=%5C'#cccc99%5C';%20document.calculator.line.focus();%20}%5Cn}%5Cnfunction%20ab(s,replaceLast){%5Cn%20if(!br&&s!=%5C'%5C'){%5Cn%20bo=%5C'%5C';%20var%20bt%5Cn%20if(replaceLast==0&&document.calculator.line.value==bn){%5Cn%20bt=s;%20}else%20if(replaceLast==1&&document.calculator.line.value==bn){%5Cn%20bt=%5C'ans%20%5C'+s;%20}else{%5Cn%20bt=document.calculator.line.value+s;%20}%5Cn%20bm=bt;%20document.calculator.line.value=bt;%20document.calculator.line.focus();%20bm=%5C'%5C';%20bn=%5C'%5C';%20bg=1;%20document.calculator.line.style.backgroundColor=%5C'#cccc99%5C';%20document.calculator.line.focus();%20}%5Cn}%5Cnfunction%20ac(){%5Cn%20document.calculator.line.value=%5C'%5C';%20bg=1;%20document.calculator.line.style.backgroundColor=%5C'#cccc99%5C';%20document.calculator.line.focus();}%5Cnfunction%20aa(s){%5Cn%20br=true;%20var%20bk=false;%20var%20dg=s;%20var%20bu;%20var%20bf=document.calculator.history.options;%20for(var%20i=1;i<bf.length&&!bk;i++){%5Cn%20bu=bf[i].text;%20bf[i].text=dg;%20if(bu==s){%5Cn%20bk=true;%20}%5Cn%20dg=bu;%20}%5Cn%20document.calculator.history.selectedIndex=0;%20br=false;}%5Cnfunction%20ak(){%5Cn%20br=true;%20var%20bf=document.calculator.history.options;%20var%20av=ai(%5C'calculatorState%5C');%20if(av!=null&&av.length>1){%5Cn%20var%20bh=av.substring(1,av.length);%20if(bh!=null){%5Cn%20var%20bi=bh.split(%5C'%5C%5Cn%5C');%20for(var%20i=1;i<bf.length&&i<bi.length+1;i++){%5Cn%20bf[i].text=bi[i-1];%20}%5Cn%20}%5Cn%20document.calculator.display.selectedIndex=parseInt(av.charAt(0));%20}%5Cn%20br=false;}%5Cnfunction%20ao(){%5Cn%20var%20bf=document.calculator.history.options;%20var%20av=document.calculator.display.selectedIndex;%20for(var%20i=1;i<bf.length;i++){%5Cn%20av+=bf[i].text+%5C'%5C%5Cn%5C';%20}%5Cn%20var%20bc=new%20Date();%20//%20cookie%20expires%20in%20one%20year%5Cn%20bc.setTime(bc.getTime()+365*24*60*60*1000);%20document.av=(%5Cn%20%5C'calculatorState%5C'+%5C'=%5C'+%5Cn%20escape(av)+%5Cn%20%5C';expires=%5C'+bc.toGMTString()%5Cn%20);}%5Cnfunction%20ai(name){%5Cn%20var%20az=name+%5C"=%5C";%20var%20ax=document.cookie.indexOf(%5C";%5C"+az);%20if(ax==-1){%5Cn%20ax=document.cookie.indexOf(az);%20if(ax!=0)return%20null;%20}else{%5Cn%20ax+=2;%20}%5Cn%20var%20ay=document.cookie.indexOf(%5C";%5C",ax);%20if(ay==-1)ay=document.cookie.length;%20return%20unescape(document.cookie.substring(ax+az.length,ay));}%5Cnfunction%20ae(){%5Cn%20var%20bf=document.calculator.history.options;%20var%20bu=%5C"%5C";%20if(bg>=bf.length||bf[bg].text==%5C"%5C"){%5Cn%20bg=1;%20}%5Cn%20if(bf[bg].text!=%5C"%5C"){%5Cn%20var%20de=bg;%20ap(bf[bg].text);%20bg=de;%20document.calculator.history.selectedIndex=bg;%20bg++;%20}%5Cn%20document.calculator.line.focus();}%5Cnfunction%20al(){%5Cn%20var%20d=document.calculator.display;%20var%20s=d.selectedIndex;%20s++;%20if(s>=d.options.length)s=0;%20ad(s)%5Cn}%5Cnfunction%20ad(index){%5Cn%20document.calculator.display.selectedIndex=index;%20af();%20ao();%20document.calculator.line.focus();}%5Cn--></script>%5Cn<style%20type=%5C"text/css%5C">%5Cnbody%20{%5Cnbackground-color:beige;font-size:10pt;}%5Cninput.advanced%20{%5Cnfont-size:9pt;width:.75cm;padding:0;margin:0;}%5Cninput.clear,%20input.number,%20input.operand,%20input.equal,%20input.other%20{%5Cnfont-size:15pt;}%5Cninput.clear,%20input.number,%20input.operand,%20input.equal,%20input.other%20{%5Cnwidth:1cm;font-weight:bold;padding:2px;}%5Cninput.keyshortcut%20{%5Cnbackground-color:beige;color:beige;text-decoration:none;border:none;}%5Cninput.clear%20{%5Cnbackground-color:#aa2222;border-color:#aa2222;color:white;}%5Cninput.number%20{%5Cnbackground-color:#CCaa99;border-color:#CCaa99;color:black;}%5Cninput.operand%20{%5Cnbackground-color:#aaaacc;border-color:#aaaacc;color:black;}%5Cninput.equal%20{%5Cnbackground-color:#444444;border-color:#444444;color:white;}%5Cninput.other%20{%5Cnbackground-color:#9ac693;border-color:#9ac693;color:black;}%5Cninput.advanced%20{%5Cnbackground-color:lightgray;border-color:lightgray;color:black;}%5Cninput.line%20{%5Cnbackground-color:#cccc99;border-color:#cccc99;font-size:15pt;font-weight:bold;width:100%;}%5Cnselect%20{%5Cnbackground-color:#cccccc;border-color:#cccccc;color:black;}%5Cn</style>%5Cn</head>%5Cn<body%20onload=%5C"ak();document.calculator.line.focus();%5C">%5Cn<noscript><p>This%20scientific%20calculator%20requires%20Javascript.%20Please%20enable%20Javascript%5Cnin%20your%20browser%5C's%20preferences%20and%20then%20reload%20this%20page%20if%20you%20wish%20to%20use%20this%20scientific%20calculator.</p></noscript>%5Cn<form%20name=calculator%20onSubmit=%5C"ag();return%20false;%5C">%5Cn<input%20class=line%20type=text%20name=%5C"line%5C"%20onChange=%5C"aj();%5C">%5Cn<br>%5Cn<table%20summary=%5C"Calculator%5C"><tr><td%20valign=top>%5Cn<table%20class=keypad%20summary=%5C"Button%20Keypad%5C"><tr>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"C%5C"%20class=%5C"clear%5C"%20accesskey=c%20onClick=%5C"ac();%5C"%20title=%5C"Clear%20(Alt-c)%5C"></td>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"(%5C"%20class=%5C"other%5C"%20onClick=%5C"ab(%5C'(%5C',0);%5C"%20title=%5C"Grouping%20Parenthesis%5C"></td>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C")%5C"%20class=%5C"other%5C"%20onClick=%5C"ab(%5C')%5C',0);%5C"%20title=%5C"Grouping%20Parenthesis%5C"></td>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"+%5C"%20class=%5C"operand%5C"%20onClick=%5C"ab(%5C'%20+%20%5C',1);%5C"%20title=%5C"Addition%5C"></td>%5Cn<td%20rowspan=5>%5Cn<input%20type=%5C"button%5C"%20value=%5C"&amp;%5C"%20class=%5C"advanced%5C"%20onClick=%5C"ab(%5C'%20&amp;%20%5C',2);%5C"%20title=%5C"Bitwise%20And%5C"><br>%5Cn<input%20type=%5C"button%5C"%20value=%5C"|%5C"%20class=%5C"advanced%5C"%20onClick=%5C"ab(%5C'%20|%20%5C',2);%5C"%20title=%5C"Bitwise%20Or%5C"><br>%5Cn<input%20type=%5C"button%5C"%20value=%5C"^%5C"%20class=%5C"advanced%5C"%20onClick=%5C"ab(%5C'%20^%20%5C',2);%5C"%20title=%5C"Bitwise%20xOr%5C"><br>%5Cn<input%20type=%5C"button%5C"%20value=%5C"~%5C"%20class=%5C"advanced%5C"%20onClick=%5C"ab(%5C'%20~%20%5C',2);%5C"%20title=%5C"Bitwise%20Negation%5C"><br>%5Cn<input%20type=%5C"button%5C"%20value=%5C"&lt;&lt;%5C"%20class=%5C"advanced%5C"%20onClick=%5C"ab(%5C'%20&lt;&lt;%20%5C',2);%5C"%20title=%5C"Bitwise%20Left%20Shift%5C"><br>%5Cn<input%20type=%5C"button%5C"%20value=%5C"&gt;&gt;%5C"%20class=%5C"advanced%5C"%20onClick=%5C"ab(%5C'%20&gt;&gt;%20%5C',2);%5C"%20title=%5C"Bitwise%20Right%20Shift%5C"><br>%5Cn<input%20type=%5C"button%5C"%20value=%5C"%%5C"%20class=%5C"advanced%5C"%20onClick=%5C"ab(%5C'%20%%20%5C',2);%5C"%20title=%5C"Modular%20Division%5C"><br>%5Cn<input%20type=%5C"button%5C"%20value=%5C",%5C"%20class=%5C"advanced%5C"%20onClick=%5C"ab(%5C',%20%5C',2);%5C"%20title=%5C"Comma%20for%20functions%5C"><br>%5Cn</td></tr><tr>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"7%5C"%20class=%5C"number%5C"%20onClick=%5C"ab(%5C'7%5C',0);%5C"%20title=%5C"Seven%5C"></td>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"8%5C"%20class=%5C"number%5C"%20onClick=%5C"ab(%5C'8%5C',0);%5C"%20title=%5C"Eight%5C"></td>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"9%5C"%20class=%5C"number%5C"%20onClick=%5C"ab(%5C'9%5C',0);%5C"%20title=%5C"Nine%5C"></td>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"-%5C"%20class=%5C"operand%5C"%20onClick=%5C"ab(%5C'%20-%20%5C',1);%5C"%20title=%5C"Subtraction%5C"></td>%5Cn</tr><tr>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"4%5C"%20class=%5C"number%5C"%20onClick=%5C"ab(%5C'4%5C',0);%5C"%20title=%5C"Four%5C"></td>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"5%5C"%20class=%5C"number%5C"%20onClick=%5C"ab(%5C'5%5C',0);%5C"%20title=%5C"Five%5C"></td>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"6%5C"%20class=%5C"number%5C"%20onClick=%5C"ab(%5C'6%5C',0);%5C"%20title=%5C"Six%5C"></td>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"*%5C"%20class=%5C"operand%5C"%20onClick=%5C"ab(%5C'%20*%20%5C',1);%5C"%20title=%5C"Multiplication%5C"></td>%5Cn</tr><tr>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"1%5C"%20class=%5C"number%5C"%20onClick=%5C"ab(%5C'1%5C',0);%5C"%20title=%5C"One%5C"></td>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"2%5C"%20class=%5C"number%5C"%20onClick=%5C"ab(%5C'2%5C',0);%5C"%20title=%5C"Two%5C"></td>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"3%5C"%20class=%5C"number%5C"%20onClick=%5C"ab(%5C'3%5C',0);%5C"%20title=%5C"Three%5C"></td>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"&#247;%5C"%20class=%5C"operand%5C"%20onClick=%5C"ab(%5C'%20/%20%5C',1);%5C"%20title=%5C"Division%5C"></td>%5Cn</tr><tr>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"EE%5C"%20class=%5C"other%5C"%20onClick=%5C"ab(%5C'e%5C',2);%5C"%20title=%5C"Scientific%20Notation%20Exponent%5C"></td>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"0%5C"%20class=%5C"number%5C"%20onClick=%5C"ab(%5C'0%5C',0);%5C"%20title=%5C"Zero%5C"></td>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C".%5C"%20class=%5C"other%5C"%20onClick=%5C"ab(%5C'.%5C',2);%5C"%20title=%5C"Decimal%20Point%5C"></td>%5Cn<td><input%20type=%5C"button%5C"%20value=%5C"=%5C"%20class=%5C"equal%5C"%20accesskey=e%20onClick=%5C"ag();%5C"%20title=%5C"Enter%20(Alt-e)%5C"></td>%5Cn</tr></table>%5Cn</td><td%20valign=top>%5Cn<p><small>Display:</small><br>%5Cn<select%20name=display%20class=display%20onChange=%5C"af();ao();%5C"%20title=%5C"(Alt-d)%5C">%5Cn<option%20selected>Decimal%20(Mixed%20Notation)%5Cn<option>Decimal%20(Scientific%20Notation)%5Cn<option>Decimal%20(Engineering%20Notation)%5Cn<option>Hexadecimal%5Cn<option>Octal%5Cn<option>Binary%5Cn</select></p>%5Cn<p><select%20name=history%20class=history%20onChange=%5C"if(this.selectedIndex>0)ap(this.options[this.selectedIndex].text);%5C"%20title=%5C"View%20previous%20entries%20(Alt-h)%5C">%5Cn<option>History:%5Cn<option><option><option><option><option><option><option><option><option>%5Cn<option><option><option><option><option><option><option><option><option><option>%5Cn</select></p>%5Cn<p><select%20name=mathConstants%20class=mathConstants%20onChange=%5C"ab(this.options[this.selectedIndex].value,0);this.selectedIndex=0;%5C">%5Cn<option>Math%20Constants:%5Cn<option%20value=%5C"E%20%5C">e%5Cn<option%20value=%5C"LN10%20%5C">ln(10)%5Cn<option%20value=%5C"LN2%20%5C">ln(2)%5Cn<option%20value=%5C"LOG10E%20%5C">log10(e)%5Cn<option%20value=%5C"LOG2E%20%5C">log2(e)%5Cn<option%20value=%5C"PI%20%5C">&pi;<option%20value=%5C"SQRT1_2%20%5C">sqrt(1/2)%5Cn<option%20value=%5C"SQRT2%20%5C">sqrt(2)%5Cn</select>&nbsp;<small>(<a%20target=%5C'_blank%5C'%20target=%5C"_blank%5C"%20href=%5C"http://www.javascripter.net/faq/mathcons.htm%5C">docs</a>)</small></p>%5Cn<p><select%20name=mathFunctions%20class=mathFunctions%20onChange=%5C"ab(this.options[this.selectedIndex].value,0);this.selectedIndex=0;%5C">%5Cn<option>Math%20Functions:%5Cn<option%20value=%5C"abs(%5C">abs%5Cn<option%20value=%5C"acos(%5C">acos%5Cn<option%20value=%5C"asin(%5C">asin%5Cn<option%20value=%5C"atan(%5C">atan%5Cn<option%20value=%5C"atan2(%5C">atan2%5Cn<option%20value=%5C"ceil(%5C">ceil%5Cn<option%20value=%5C"cos(%5C">cos%5Cn<option%20value=%5C"exp(%5C">exp%5Cn<option%20value=%5C"floor(%5C">floor%5Cn<option%20value=%5C"log(%5C">log%5Cn<option%20value=%5C"max(%5C">max%5Cn<option%20value=%5C"min(%5C">min%5Cn<option%20value=%5C"pow(%5C">pow%5Cn<option%20value=%5C"random()%5C">random%5Cn<option%20value=%5C"round(%5C">round%5Cn<option%20value=%5C"sin(%5C">sin%5Cn<option%20value=%5C"sqrt(%5C">sqrt%5Cn<option%20value=%5C"tan(%5C">tan%5Cn</select>&nbsp;<small>(<a%20target=%5C'_blank%5C'%20target=%5C"_blank%5C"%20href=%5C"http://www.javascripter.net/faq/mathfunc.htm%5C">docs</a>)</small></p>%5Cn<p><input%20type=%5C"button%5C"%20value=%5C"H%5C"%20accesskey=h%20class=%5C"keyshortcut%5C"%20onClick=%5C"ae();%5C">%5Cn<input%20type=%5C"button%5C"%20value=%5C"D%5C"%20accesskey=d%20class=%5C"keyshortcut%5C"%20onClick=%5C"al();%5C">%5Cn<input%20type=%5C"button%5C"%20value=%5C"M%5C"%20accesskey=m%20class=%5C"keyshortcut%5C"%20onClick=%5C"ad(0);%5C">%5Cn<input%20type=%5C"button%5C"%20value=%5C"S%5C"%20accesskey=s%20class=%5C"keyshortcut%5C"%20onClick=%5C"ad(1);%5C">%5Cn<input%20type=%5C"button%5C"%20value=%5C"G%5C"%20accesskey=g%20class=%5C"keyshortcut%5C"%20onClick=%5C"ad(2);%5C">%5Cn<input%20type=%5C"button%5C"%20value=%5C"B%5C"%20accesskey=b%20class=%5C"keyshortcut%5C"%20onClick=%5C"ad(5);%5C">%5Cn<input%20type=%5C"button%5C"%20value=%5C"O%5C"%20accesskey=o%20class=%5C"keyshortcut%5C"%20onClick=%5C"ad(4);%5C">%5Cn<input%20type=%5C"button%5C"%20value=%5C"X%5C"%20accesskey=x%20class=%5C"keyshortcut%5C"%20onClick=%5C"ad(3);%5C">%5Cn<input%20type=%5C"button%5C"%20value=%5C"A%5C"%20accesskey=a%20class=%5C"keyshortcut%5C"%20onClick=%5C"ab(%5C'ans%20%5C',0);%5C"></p>%5Cn</td></tr></table>%5Cn</form>%5Cn<div%20style=%5C"height:1in;%5C"></div>%5Cn<h3>Instructions</h3>%5Cn<table%20summary=%5C"List%20of%20keyboard%20shortcuts%5C"%20vspace=20%20hspace=20%20border=0%20width=150%20align=right><tr><td>%5Cn<b>Keyboard%20shortcuts%20(Alt%20or%20Cmd):</b><br>%5Cn<ul>%5Cn<li><u>C</u>lear</li>%5Cn<li><u>E</u>quals</li>%5Cn<li><u>H</u>istory%20(previous)</li>%5Cn<li><u>D</u>isplay%20(cycle)</li>%5Cn<li>Decimal%20<u>m</u>ixed%20display</li>%5Cn<li>Decimal%20<u>S</u>cientific%20display</li>%5Cn<li>Decimal%20En<u>g</u>ineering%20display</li>%5Cn<li><u>B</u>inary%20display</li>%5Cn<li><u>O</u>ctal%20display</li>%5Cn<li>He<u>x</u>%20display</li>%5Cn<li>Last%20<u>A</u>nswer</li>%5Cn</ul>%5Cn</td></tr></table>%5Cn<p>Enter%20an%20expression%20into%20the%20tan%20bar%20and%20press%20enter%20to%20calculate%20the%20results.%20</p>%5Cn<p>This%20calculator%20remembers%20up%20to%20twenty%20past%20calculations%20in%20history.%20To%20save%20the%20history%5Cnbetween%20visits%20you%20must%20have%20cookies%20enabled.</p>%5Cn<p>All%20results%20are%20calculated%20using%20the%20Javascript%20eval()%20function.%20Syntax%20for%20expressions%5Cnis%20the%20same%20as%20that%20for%20Javascript.</p>%5Cn<p>This%20calculator%20can%20handle%20input%20numbers%20in%20several%20different%20bases:</p>%5Cn<ul>%5Cn<li>Decimal%20(Base%2010):%20Numbers%20that%20do%20not%20start%20with%20a%20zero%20like%2015%20or%203.14e15.%5CnDecimal%20numbers%20can%20contain%20digits%200-9,%20decimals,%20and%20scientific%20notation.</li>%5Cn<li>Hexadecimal%20(Base%2016):%20Integers%20that%20start%20with%20a%20zero%20x%20like%200x1a5.%20Hexadecimal%20numbers%5Cncan%20contain%20digits%200-9%20and%20a-f%20(or%20A-F)%20but%20no%20decimal%20or%20scientific%20notation.</li>%5Cn<li>Octal%20(Base%208):%20Integers%20that%20start%20with%20a%20zero%20like%20073.%20Octal%20numbers%5Cncan%20contain%20digits%200-7%20but%20no%20decimal%20or%20scientific%20notation.</li>%5Cn<li>Binary%20(Base%202):%20Integers%20that%20start%20with%20a%20zero%20b%20like%200b101.%20Binary%20numbers%5Cncan%20contain%20digits%200%20and%201%20but%20no%20decimal%20or%20scientific%20notation.</li>%5Cn</ul>%5Cn<p>^%20is%20a%20bitwise%20xor%20operation.%20To%20raise%20a%20number%20to%20a%20power%20use%20pow()%20function.</p>%5Cn<hr>%5Cn<h3>License</h3>%5Cn<p>This%20program%20is%20free%20software;you%20can%20redistribute%20it%20and/or%20modify%20it%5Cnunder%20the%20terms%20of%20the%20GNU%20General%20Public%20License%20as%20published%20by%20the%20Free%5CnSoftware%20Foundation;either%20version%202%20of%20the%20License,%20or%20(at%20your%20option)%5Cnany%20later%20version.</p>%5Cn<p>This%20program%20is%20distributed%20in%20the%20hope%20that%20it%20will%20be%20useful,%5Cnbut%20WITHOUT%20ANY%20WARRANTY;%20without%20even%20the%20implied%20warranty%20of%20MERCHANTABILITY%5Cnor%20FITNESS%20FOR%20A%20PARTICULAR%20PURPOSE.%20See%20the%5Cn<a%20target=%5C'_blank%5C'%20href=%5C"http://www.gnu.org/copyleft/gpl.html%5C">GNU%5CnGeneral%20Public%20License</a>%20for%20more%20details.</p>%5Cn<p%20style=%5C"text-size:small%5C">scientific%20calculater,%20binary%20calc,%20octal,%20hex,%20hexadecimal,%20hexidecimal</p>%5Cn<div%20style=%5C"padding:0.2cm;%5C"><a%20target=%5C'_blank%5C'%20href=%5C"http://ostermiller.org/calc/%5C">More%20converters,%20calculators,%20and%20other%20JavaScript%20goodies</a></div>%5Cn<div%20style=%5C"padding:0.2cm;text-align:right;%5C"><a%20target=%5C'_blank%5C'%20href=%5C"http://ostermiller.org/%5C">ostermiller.org</a>%20(<a%20target=%5C'_blank%5C'%20href=%5C"http://ostermiller.org/siteindex.html%5C">site%20index</a>)</div>%5Cn<div%20style=%5C"padding:0.2cm;%5C"><p>Copyright%20<a%20target=%5C'_blank%5C'%20href=%5C"http://ostermiller.org/contact.pl?regarding=JavaScript+Calculator%5C"%20class=mail>Stephen%20Ostermiller</a>%202002-2006</p></div>%5Cn</body>%5Cn</html>%5Cn");})())
}}}
Clicker
{{{
javascript:var DELAY = 1;var autoClickerStyleElement = document.createElement("style");autoClickerStyleElement.innerHTML="*{cursor: crosshair !important;}";document.body.appendChild(autoClickerStyleElement);function addClicker(e) {if(!e.isTrusted) {return;}if(e.target.classList.contains("auto-clicker-target")) {e.target.classList.remove("auto-clicker-target");} else {e.target.classList.add("auto-clicker-target");}document.body.removeChild(autoClickerStyleElement);document.body.removeEventListener("click", addClicker);e.preventDefault();autoClick(e.target);}function autoClick(element) {if(element.classList.contains("auto-clicker-target")) {element.click();setTimeout(function(){ autoClick(element); }, DELAY);}}document.body.addEventListener("click", addClicker, 0);
}}}
Kick Ass
https://kickassapp.com/
{{{
javascript:var%20KICKASSVERSION='2.0';var%20s%20=%20document.createElement('script');s.type='text/javascript';document.body.appendChild(s);s.src='https://hi.kickassapp.com/kickass.js';void(0);
}}}
The localStorage inspector bookmarklet
https://potch.me/ls/
{{{
javascript:(function(){function l(a,b){b=a.target,a.preventDefault();var d=b.getAttribute("data-k");switch(b.className){case"lc":h.removeItem(d),k();break;case"lv":b.parentNode.innerHTML="<pre>"+h[d]+"</pre>";break;case"lca":h.clear(),k();break;case"sc":i.removeItem(d),k();break;case"sv":b.parentNode.innerHTML="<pre>"+i[d]+"</pre>";break;case"sca":i.clear(),k();break;case"x":c.style.display="none"}}function k(){e=j+"<tr><th colspan=3><h1>localStorage inspector</h1><th><a href=#%20class=x>close</a><tr><th>storage%20key<th>size<th><th><a%20href=#%20class=lca>clear%20all</a>",e+=h.length?"":"<tr><td>No%20Data";for(d=0;d<h.length;d++)g=h.key(d),e+=("<tr><td>$<td>"+h[g].length+"<td><a%20href=#%20data-k=\"$\"%20class=lv>view</a><td><a%20href=#%20data-k=\"$\"%20class=lc>clear</a>").replace(/\$/g,g);e+="<tr><th%20colspan=3><h1>sessionStorage</h1><tr><th>storage%20key<th>size<th><th><a%20href=#%20class=sca>clear%20all</a>",e+=i.length?"":"<tr><td>No%20Data";for(d=0;d<i.length;d++)g=i.key(d),e+=("<tr><td>$<td>"+i[g].length+"<td><a%20href=#%20data-k=\"$\"%20class=sv>view</a><td><a%20href=#%20data-k=\"$\"%20class=sc>clear</a>").replace(/\$/g,g);c.innerHTML=e}var%20a=document,b="localStorageList",c=a.getElementById(b),d,e,f,g,h=window.localStorage,i=window.sessionStorage,j="<style>$%20th,%20$%20td%20{padding:0%201em;text-align:left;}$%20th{font-weight:bold}$%20pre{max-width:400px;max-height:300px;overflow:auto;white-space:pre-wrap;}$%20h1{font:16px/32px%20sans-serif;}</style>".replace(/\$/g,"#"+b);c||(c=a.createElement("table"),a.body.appendChild(c),c.addEventListener("click",l,!1)),c.setAttribute("id",b),c.setAttribute("style","position:fixed;top:20px;right:20px;padding:20px;background:#fff;font:12px/20px%20monospace;z-index:99999;max-height:100%;overflow:auto;border-radius:10px;border:2px%20solid%20#000"),c.style.display="block",k()})()
}}}
Archive.org
{{{
javascript:(function()%7B%0A%20%20%20%20window.location%20%3D%20%22https%3A%2F%2Fweb.archive.org%2Fweb%2F*%2F%22%20%2B%20window.location%3B%0A%7D)()
}}}
Firebug Lite
{{{
javascript:(function(F,i,r,e,b,u,g,L,I,T,E){if(F.getElementById(b))return;E=F[i+'NS']&&F.documentElement.namespaceURI;E=E?F[i+'NS'](E,'script'):F[i]('script');E[r]('id',b);E[r]('src',I+g+T);E[r](b,u);(F[e]('head')[0]||F[e]('body')[0]).appendChild(E);E=new%20Image;E[r]('src',I+L);})(document,'createElement','setAttribute','getElementsByTagName','FirebugLite','4','firebug-lite.js','releases/lite/latest/skin/xp/sprite.png','https://web.archive.org/web/20190730101343/https://getfirebug.com/','#startOpened');
}}}
http://stegoweb.pet-portal.eu/
Data selection 
{{{
javascript:(function(){var%20headID%20=%20document.getElementsByTagName('head')[0];var%20newScript%20=%20document.createElement('script');newScript.type%20=%20'text/javascript';newScript.src%20=%20'http://stegoweb.pet-portal.eu/stcr/xpath.js';headID.appendChild(newScript);})()
}}}
Hide data 
{{{
javascript:(function(){var%20headID%20=%20document.getElementsByTagName('head')[0];var%20newScript%20=%20document.createElement('script');newScript.type%20=%20'text/javascript';newScript.src%20=%20'http://stegoweb.pet-portal.eu/stcr/enstcr.js';headID.appendChild(newScript);})()
}}}
Restore data
{{{
javascript:(function(){var%20headID%20=%20document.getElementsByTagName('head')[0];var%20newScript%20=%20document.createElement('script');newScript.type%20=%20'text/javascript';newScript.src%20=%20'http://stegoweb.pet-portal.eu/stcr/destcr.js';headID.appendChild(newScript);})()
}}}
https://sprymedia.co.uk/article/Design
{{{
javascript:function%20fnStartDesign(sUrl)%20{var%20nScript%20=%20document.createElement('script');nScript.setAttribute('language','JavaScript');nScript.setAttribute('src',sUrl);document.body.appendChild(nScript);}fnStartDesign('https://www.sprymedia.co.uk/design/design/media/js/design-loader.js');
}}}
https://sprymedia.co.uk/article/Label
{{{
javascript:function%20fnStartLabel(sUrl)%20{var%20nScript%20=%20document.createElement('script');nScript.setAttribute('language','JavaScript');nScript.setAttribute('src',sUrl);document.body.appendChild(nScript);}fnStartLabel('https://www.sprymedia.co.uk/design/label/media/js/label-loader.js');
}}}
https://sprymedia.co.uk/article/Visual+Event+2
{{{
javascript:(function()%20{var%20protocol%20=%20window.location.protocol%20===%20'file:'%20?'http:'%20:%20'';var%20url%20=%20protocol+'//www.sprymedia.co.uk/VisualEvent/VisualEvent_Loader.js';if(%20typeof%20VisualEvent!='undefined'%20)%20{if%20(%20VisualEvent.instance%20!==%20null%20)%20{VisualEvent.close();}else%20{new%20VisualEvent();}}else%20{var%20n=document.createElement('script');n.setAttribute('language','JavaScript');n.setAttribute('src',url+'?rand='+new%20Date().getTime());document.body.appendChild(n);}})();
}}}
Blummy
https://blummy.com/
{{{
javascript:user='anon';(function(){var l,s,d=document,i,a=function(o){d.body.appendChild(o)};if(d.getElementById('blummy'))return Blummy.close();l=d.createElement('div');l.innerHTML='Loading..';i=l.style;i.position='absolute';i.top='0';i.left='9px';i.backgroundColor='#f00';i.color='#fff';i.font='normal%2014px%20sans-serif';i.padding='2px';i.zIndex='999';l.id='l_blm';a(l);s=d.createElement('script');s.type='text/javascript';s.src='https://blummy.com/blummy.js?user='+user;a(s)})();
}}}
https://westciv.com/xray/
{{{
javascript:function%20loadScript(scriptURL)%20{%20var%20scriptElem%20=%20document.createElement('SCRIPT');%20scriptElem.setAttribute('language',%20'JavaScript');%20scriptElem.setAttribute('src',%20scriptURL);%20document.body.appendChild(scriptElem);}loadScript('https://web.archive.org/web/20140123004503/http://westciv.com/xray/thexray.js');
}}}
https://westciv.com/mri
{{{
javascript:function%20loadScript(scriptURL)%20{%20var%20scriptElem%20=%20document.createElement('SCRIPT');%20scriptElem.setAttribute('language',%20'JavaScript');%20scriptElem.setAttribute('src',%20scriptURL);%20document.body.appendChild(scriptElem);}loadScript('https://web.archive.org/web/20140123004501/http://westciv.com/mri/theMRI.js');
}}}
http://mrclay.org/2006/02/18/click2zap-bookmarklet/
{{{
javascript:(function(){var i=0,l,d=document,b=d.body,w=window;w.cZ=1;w.cZa=[];while(l=b.getElementsByTagName('*').item(i++)){l.onmouseover=function(e){if(!e)var e=w.event;e.cancelBubble=true;if(e.stopPropagation)e.stopPropagation();if(w.cZ){this.style.background='yellow'}};l.onmouseout=function(e){if(!e)var e=w.event;e.cancelBubble=true;if(e.stopPropagation)e.stopPropagation();if(w.cZ){this.style.background=''}};l.onclick=function(e){if(!e)var e=w.event;e.cancelBubble=true;if(e.stopPropagation)e.stopPropagation();if(!w.cZ){return true}this.style.background='';var h=d.createTextNode('');w.cZa.push(this,this.parentNode,h);this.parentNode.replaceChild(h,this);return false}}var c=d.createElement('table');c.innerHTML='click2zap: <'+'u id=cZp>print<'+'/u> | <'+'u id=cZt>disable<'+'/u> | <'+'u id=cZu>undo<'+'/u>';c.style.background='red';c.style.color='#fff';c.style.position='fixed';c.style.top='0';c.style.right='0';b.insertBefore(c,b.firstChild);c.onclick=function(e){if(!e)var%20e=w.event;e.cancelBubble=true;if(e.stopPropagation)e.stopPropagation()};d.getElementById('cZp').onclick=function(e){b.removeChild(c);w.print()};d.getElementById('cZt').onclick=function(e){w.cZ=w.cZ?0:1;this.innerHTML=w.cZ?'disable':'enable'};d.getElementById('cZu').onclick=function(e){if(!w.cZa.length)return;var%20h=w.cZa.pop(),p=w.cZa.pop(),r=w.cZa.pop();p.replaceChild(r,h)}})();
}}}
https://web.archive.org/web/20081211031702/http://tlrobinson.net/misc/console_bookmarklet.html
{{{
javascript:(function() {data='PGh0bWw+CjxoZWFkPgoJPHRpdGxlPkNvbnNvbGU8L3RpdGxlPgoJPHN0eWxlIHR5cGU9InRleHQvY3NzIiBtZWRpYT0ic2NyZWVuIj4KCSAgICAvKiBUaGVtZWFibGUgY29tcG9uZW50cyAqLwoJICAgIGJvZHkgewoJICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsKCSAgICB9CgkJLmNvbnNvbGUgewoJCSAgICBjb2xvcjogd2hpdGU7CgkJCWZvbnQtc2l6ZTogMTBweDsKCQkJZm9udC1mYW1pbHk6IE1vbmFjbywgQ291cmllciwgbW9ub3NwYWNlOwoJCX0KCQkKCQkjY3Vyc29yIHsKICAgIAkgICAgLypib3JkZXItbGVmdDogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMCk7Ki8KCSAgICB9CgkJI2N1cnNvcltzaG93PSJ5ZXMiXSB7CgkJICAgIGJhY2tncm91bmQtY29sb3I6IHJlZDsKCQkgICAgLypib3JkZXItbGVmdDogMXB4IHNvbGlkIHJlZDsqLwoJCX0KCQkvKiBPdGhlciAqLwoJCS5jb25zb2xlIHsKICAgIAkgICAgd2hpdGUtc3BhY2U6IHByZTsKICAgIAkgICAgd2hpdGUtc3BhY2U6IHByZS13cmFwOwogICAgCQltYXJnaW46IDBweDsKICAgIAkJcGFkZGluZzogMHB4OwoJICAgIH0KCQkjYXV0b2NvbXBsZXRlLXJlc3VsdHMgewoJCSAgICBtYXJnaW46IDIwcHg7CgkJCWZvbnQtc2l6ZTogMTBwdDsKCQl9CgkJI2F1dG9jb21wbGV0ZS1saXN0IHsKCQkJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJCQltYXJnaW46IDA7CgkJCXBhZGRpbmc6IDEwcHg7CgkJCWxpc3Qtc3R5bGUtdHlwZTogbm9uZTsKCQkJYmFja2dyb3VuZC1jb2xvcjogI0VFRUVFRTsKICAgICAgICAJLW1vei1ib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgIAktd2Via2l0LWJvcmRlci1yYWRpdXM6IDEwcHg7CgkJfQoJCSNhdXRvY29tcGxldGUtbGlzdCA+IGxpOmhvdmVyIHsKCQkJdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7CgkJfQoJCSNoaWRkZW4taW5wdXQgewoJCQlwb3NpdGlvbjogYWJzb2x1dGU7CgkJCXRvcDogLTEwMHB4OwoJCQlyaWdodDogMHB4OwoJCX0KCQkuZG9tbGluazpob3ZlciB7CgkJICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwoJCX0KCQlib2R5IHsKCQkJcGFkZGluZy1ib3R0b206IDEwMHB4OwoJCX0KCTwvc3R5bGU+Cgk8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii9jc3MvbWFzdGVyLmNzcyIgdHlwZT0idGV4dC9jc3MiIG1lZGlhPSJzY3JlZW4iIHRpdGxlPSJubyB0aXRsZSIgY2hhcnNldD0idXRmLTgiPgoJPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIGNoYXJzZXQ9InV0Zi04Ij4KCQoJKGZ1bmN0aW9uKCkgewoJICAgIHZhciB3aW5kb3dfY29udGV4dCwgaW5wdXQsIGlucHV0X3NhdmVkLCBpbnB1dF9tdWx0aSwgaGlzdCwgZmxhZ3MsIGN1cnNvcl9sb2NhdGlvbiwgaGlzdF9udW0sIGNvbnNvbGVfaGlzdG9yeSwgY29uc29sZV9pbnB1dCwgYXV0b2NvbXBsZXRlX3Jlc3VsdHMsIGN1cnNvciwgaGlkZGVuX2lucHV0LCBoaWdobGlnaHQsIGhlbHA7CgkgICAgICAgICAgCgkJZnVuY3Rpb24gJChpZCkgeyByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOyB9CgkJCgkJZnVuY3Rpb24gZXZhbEluQ29udGV4dChjb2RlKQoJCXsKCQkJd2l0aCAod2luZG93X2NvbnRleHQpIHsKCQkJCWlmICh0eXBlb2Yob2Jqal9wcmVwcm9jZXNzKSAhPSAidW5kZWZpbmVkIikKCQkJCQljb2RlID0gb2Jqal9wcmVwcm9jZXNzKGNvZGUpWzBdLmluZm87CgkJCQlyZXR1cm4gZXZhbChjb2RlKTsKCQkJfQoJCX0KCQkKCQlmdW5jdGlvbiBpbml0KCkKCQl7ICAgCgkJCXdpbmRvd19jb250ZXh0ID0gd2luZG93Lm9wZW5lciB8fCB3aW5kb3c7CgkJCQkJCQoJCQl3aXRoICh3aW5kb3dfY29udGV4dCkgewogICAgICAgIAkgICAgaWYgKHR5cGVvZihvYmpqX21zZ1NlbmQpICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgIHZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7CiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pc2EgPyBvYmpqX21zZ1NlbmQodGhpcywgImRlc2NyaXB0aW9uIikgOiB0b1N0cmluZy5hcHBseSh0aGlzKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgCSAgICB9CgkJCX0KCQkJCgkJCWlucHV0ID0gIiI7CgkJCWlucHV0X3NhdmVkID0gIiI7CgkJCWlucHV0X211bHRpID0gIiI7CgkJCWhpc3QgPSBbXTsKCQkJZmxhZ3MgPSBbXTsKCQkJY3Vyc29yX2xvY2F0aW9uID0gMDsKCQkJaGlzdF9udW0gPSAwOwoKCQkJY29uc29sZV9oaXN0b3J5CQkJPSAkKCJjb25zb2xlLWhpc3RvcnkiKTsKCQkJY29uc29sZV9pbnB1dCAJCQk9ICQoImNvbnNvbGUtaW5wdXQiKTsKCQkJYXV0b2NvbXBsZXRlX3Jlc3VsdHMgCT0gJCgiYXV0b2NvbXBsZXRlLXJlc3VsdHMiKTsKCQkJCiAgICAgICAgICAgIGJlZ2lubmluZyAgICAgICAgICAgICAgID0gJCgiaW5wdXQtYmVnaW5uaW5nIik7CiAgICAgICAgICAgIGN1cnNvciAgICAgICAgICAgICAgICAgID0gJCgiY3Vyc29yIik7CiAgICAgICAgICAgIGVuZCAgICAgICAgICAgICAgICAgICAgID0gJCgiaW5wdXQtZW5kIik7CgkJCQoJCQloaWRkZW5faW5wdXQgICAgICAgICAgICA9ICQoImhpZGRlbi1pbnB1dCIpOwoJCQkKCQkJaGlkZGVuX2lucHV0LnZhbHVlID0gIiI7CgkJCQoJCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGtleWhhbmRsZXIsIGZhbHNlKTsKCQkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImtleXByZXNzIiwga2V5aGFuZGxlciwgZmFsc2UpOwoJCQkKCQkJaGlnaGxpZ2h0ID0gd2luZG93X2NvbnRleHQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CgkJCQogICAgCQl3aW5kb3dfY29udGV4dC5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGhpZ2hsaWdodCk7CgkJCWhpZ2hsaWdodC5zdHlsZS5wb3NpdGlvbiAgICAgICAgPSAiYWJzb2x1dGUiOwogICAgCQloaWdobGlnaHQuc3R5bGUudG9wICAgICAgICAgICAgID0gIi0xMDBweCI7CiAgICAJCWhpZ2hsaWdodC5zdHlsZS5yaWdodCAgICAgICAgICAgPSAiMHB4IjsKICAgIAkJaGlnaGxpZ2h0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJyZ2JhKDI1NSwgMCwgMCwgMC4yNSkiOwogICAgCQloaWdobGlnaHQuc3R5bGUuekluZGV4ICAgICAgICAgID0gIjEwMDAiOwoJCQkKCQkJLy8gSGlzdG9yeSBjb29raWUgc3RvcmFnZQoJCQl0cnkgewkKCQkJICAgIGhpc3QgPSBldmFsKGRlY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5jb29raWUubWF0Y2goL2NvbnNvbGVoaXN0b3J5PShbXjtdKikvKVsxXSkpOwoJCSAgICB9IGNhdGNoIChlKSB7CgkJICAgICAgICBoaXN0ID0gW107CgkJICAgIH0KCQkgICAgaWYgKCFoaXN0IHx8IGhpc3QuY29uc3RydWN0b3IgIT0gQXJyYXkpCgkJICAgICAgICBoaXN0ID0gW107CgkJICAgICAgICAKCQkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsIGZ1bmN0aW9uKCkgewoJCQkgICAgdmFyIGpzb24gPSAnWyc7CgkJCSAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhpc3QubGVuZ3RoICYmIGpzb24ubGVuZ3RoIDwgMjA0ODsgaSsrKSB7CgkJCSAgICAgICAganNvbiArPSAnIicgKyBoaXN0W2ldLnJlcGxhY2UoLyIvZywgJ1xcIicpLnJlcGxhY2UoL1xcL2csICdcXFxcJykgKyAnIiwnOwoJCQkgICAgfQoJCQkgICAganNvbi5zdWJzdHJpbmcoMCwganNvbi5sZW5ndGgtMik7CgkJCSAgICBqc29uICs9ICddJzsKCQkJICAgIAoJCQkgICAgZG9jdW1lbnQuY29va2llID0gImNvbnNvbGVoaXN0b3J5PSIrZW5jb2RlVVJJQ29tcG9uZW50KGpzb24pKyI7IjsJCQkgICAgCgkJCX0sIGZhbHNlKTsKCQkJCgkJCWxhc3Rfa2V5cHJlc3MgPSBuZXcgRGF0ZSgpOwoJCQkKCQkJLy8gQmxpbmsgY3Vyc29yCgkJCWN1cnNvci5zZXRBdHRyaWJ1dGUoInNob3ciLCAieWVzIik7CgkJCXdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCQkJCWN1cnNvci5zZXRBdHRyaWJ1dGUoInNob3ciLCAoY3Vyc29yLmdldEF0dHJpYnV0ZSgic2hvdyIpID09ICJ5ZXMiICYmIChuZXcgRGF0ZSgpIC0gbGFzdF9rZXlwcmVzcykgPiA3NTApID8gIm5vIiA6ICJ5ZXMiKTsKCQkJfSwgNTAwKTsKCQkJCgkJCWhlbHAgPSAiXG4gICAgICAgIEphdmFzY3JpcHQgSW50ZXJhY3RpdmUgQ29uc29sZVxuXG4iICsKCQkJCQkiICAgIC0gdGhlIHJpZ2h0LCBsZWZ0LCBhbmQgYmFja3NwYWNlIGtleXMgYXJlIHVzZWQgdG8gZWRpdCB0aGUgY3VycmVudCBsaW5lXG4iICsKCQkJCQkiICAgIC0gdGhlIHVwIGFuZCBkb3duIGFycm93IGtleXMgbmF2aWdhdGUgdGhyb3VnaCB0aGUgcHJldmlvdXMgY29tbWFuZCBoaXN0b3J5XG4iICsKCQkJCQkiICAgIC0gXCJhbnNcIiBnaXZlcyB0aGUgcmVzdWx0IG9mIHRoZSBwcmV2aW91c2x5IGV2YWx1dGVkIGV4cHJlc3Npb25cbiIgKwoJCQkJCSIgICAgLSBcInByaW50bG4oc3RyaW5nKVwiIGFuZCBcInByaW50KHN0cmluZylcIiBwcmludCBhIHN0cmluZyB3aXRoIG9yIHdpdGhvdXQgYSBuZXdsaW5lIGFwcGVuZGVkLCByZXNwZWN0aXZlbHlcbiIgKwoJCQkJCSIgICAgLSBcImNsZWFyKClcIiBjbGVhcnMgdGhlIHNjcmVlblxuIiArCgkJCQkJIiAgICAtIFwiaGVscFwiIGRpc3BsYXlzIHRoaXMgbWVzc2FnZVxuXG4iOwoJCX0KCQkKCQlmdW5jdGlvbiBjbGVhcigpCgkJewoJCSAgICB3aGlsZSAoY29uc29sZV9oaXN0b3J5LmZpcnN0Q2hpbGQpCgkJICAgICAgICBjb25zb2xlX2hpc3RvcnkucmVtb3ZlQ2hpbGQoY29uc29sZV9oaXN0b3J5LmZpcnN0Q2hpbGQpOwoJCX0KCQkKCQlmdW5jdGlvbiBtYXRjaGluZ19jaGFycyhtYXRjaGVzKQoJCXsKCQkJLy8gbWF0Y2ggYXMgbWFueSBjaGFyYWN0ZXJzIGFzIHBvc3NpYmxlCgkJCS8vIGRvbid0IHdvcnJ5IGFib3V0IG1hdGNoaW5nIHRoZSBpbnB1dCBzdHJpbmcsIHNpbmNlIHRoZXkgYWxsIHNob3VsZAoJCQl2YXIgZG9uZSA9IGZhbHNlLCBjdXJDaGFyTnVtID0gMCwgbGFzdE1hdGNoZWQ7CgoJCQkvLyBjaGVjayBlYWNoIGNoYXJhY3RlciBzZXF1ZW50aWFsbHkuLi4KCQkJd2hpbGUgKCFkb25lICYmIG1hdGNoZXMubGVuZ3RoID4gMCkgewoJCQkJdmFyIGN1ckNoYXI7CgkJCQkvLyBvZiBldmVyeSBwb3RlbnRpYWwgbWF0Y2guLi4KCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykgewoJCQkJCS8vIHVudGlsIGVpdGhlciBvbmUgb2YgdGhlIG1hdGNoZXMgaXNuJ3QgbG9uZyBlbm91Z2guLi4KCQkJCQlpZiAobWF0Y2hlc1tpXS5uYW1lLmxlbmd0aC0xIDwgY3VyQ2hhck51bSkgewoJCQkJCQlkb25lID0gdHJ1ZTsKCQkJCQkJbGFzdE1hdGNoZWQgPSBjdXJDaGFyTnVtLTE7CgkJCQkJfQoJCQkJCS8vICh1c2UgZmlyc3QgbWF0Y2ggYXMgYSByZWZlcmVuY2UpCgkJCQkJaWYgKGkgPT0gMCkgewoJCQkJCQljdXJDaGFyID0gbWF0Y2hlc1tpXS5uYW1lLmNoYXJBdChjdXJDaGFyTnVtKTsKCQkJCQl9CgkJCQkJLy8gb3IgdGhlIGNoYXJhY3RlciBkb2Vzbid0IG1hdGNoLgoJCQkJCWVsc2UgaWYgKGN1ckNoYXIgIT0gbWF0Y2hlc1tpXS5uYW1lLmNoYXJBdChjdXJDaGFyTnVtKSkgewoJCQkJCQlkb25lID0gdHJ1ZTsKCQkJCQkJbGFzdE1hdGNoZWQgPSBjdXJDaGFyTnVtLTE7CgkJCQkJfQoJCQkJfQoJCQkJY3VyQ2hhck51bSsrOwoJCQl9CgkJCXJldHVybiBsYXN0TWF0Y2hlZDsKCQl9CgoJCWZ1bmN0aW9uIHJlcGxhY2VfbWF0Y2goaW5wdXQsIG1hdGNoZWQsIHJlcGxhY2VtZW50LCB0eXBlKQoJCXsJCgkJCS8vIGdsb2JhbHM6IGN1cnNvcl9sb2NhdGlvbgoJCQl2YXIgaW4xID0gaW5wdXQuc3Vic3RyaW5nKDAsIGN1cnNvcl9sb2NhdGlvbiAtIG1hdGNoZWQubGVuZ3RoKTsKCQkJdmFyIGluMiA9IGlucHV0LnN1YnN0cmluZyhjdXJzb3JfbG9jYXRpb24gLSBtYXRjaGVkLmxlbmd0aCk7CgkJCgkJCXZhciBleHRyYSA9ICIiOwoJCQl2YXIgZXh0cmFfbGVuID0gMDsKCQkJaWYgKHR5cGUpIHsKCQkJCWlmICh0eXBlID09ICJmdW5jdGlvbiIpIHsKCQkJCQlleHRyYSA9ICIoKSI7CgkJCQkJZXh0cmFfbGVuID0gMTsKCQkJCX0gZWxzZSBpZiAodHlwZSA9PSAiQXJyYXkiKSB7CgkJCQkJZXh0cmEgPSAiW10iOwoJCQkJCWV4dHJhX2xlbiA9IDE7CgkJCQl9CgkJCX0KCQkJCgkJCWN1cnNvcl9sb2NhdGlvbiArPSAocmVwbGFjZW1lbnQubGVuZ3RoIC0gbWF0Y2hlZC5sZW5ndGgpICsgZXh0cmFfbGVuOwoJCQlyZXR1cm4gaW4xICsgaW4yLnJlcGxhY2UobWF0Y2hlZCwgcmVwbGFjZW1lbnQgKyBleHRyYSk7CgkJfQoJCQoJCWZ1bmN0aW9uIGNsZWFyX2F1dG9jb21wbGV0ZSgpCgkJewoJCQlpZiAoYXV0b2NvbXBsZXRlX3Jlc3VsdHMuZmlyc3RDaGlsZCkKCQkJCWF1dG9jb21wbGV0ZV9yZXN1bHRzLnJlbW92ZUNoaWxkKGF1dG9jb21wbGV0ZV9yZXN1bHRzLmZpcnN0Q2hpbGQpOwoJCX0KCQkKCQlmdW5jdGlvbiBkZWVwX3R5cGVvZihvYmopCgkJewoJCQl2YXIgdHlwZSA9IHR5cGVvZiBvYmo7CgkJCWlmICh0eXBlID09ICJvYmplY3QiICYmIG9iaiAmJiBvYmouY29uc3RydWN0b3IpIHsKCQkJCXN3aXRjaCAob2JqLmNvbnN0cnVjdG9yKSB7CgkJCQkJY2FzZSBBcnJheTogIHJldHVybiAiQXJyYXkiOwoJCQkJCWNhc2UgU3RyaW5nOiByZXR1cm4gIlN0cmluZyI7CgkJCQkJY2FzZSBOdW1iZXI6IHJldHVybiAiTnVtYmVyIjsKCQkJCQljYXNlIERhdGU6ICAgcmV0dXJuICJEYXRlIjsKCQkJCQljYXNlIFJlZ0V4cDogcmV0dXJuICJSZWdFeHAiOwoJCQkJfQoJCQl9CgkJCXJldHVybiB0eXBlOwoJCX0KCQkKCQlmdW5jdGlvbiBwYXN0ZSgpCgkJewoJCQloaWRkZW5faW5wdXQudmFsdWUgPSAiIjsKCQkJaGlkZGVuX2lucHV0LmZvY3VzKCk7CgkJCQoJCQkvLyAid2FpdCIgZm9yIHRoZSBwYXN0ZSB0byBvY2N1ciAoYnkgcGVyZm9ybWluZyBhIHRpbWVvdXQpCgkJCQoJCQl3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJICAgIC8vIHdlIGRvbid0IGhhdmUgbXVsdGlsaW5lIGlucHV0IHlldCwgc28gY29sbGFwc2UgbmV3bGluZXMgYW5kIGhvcGUgYWxsIGxpbmVzIGFyZSBzZW1pY29sb24gdGVybWluYXRlZC4uLgoJCSAgICAgICAgdmFyIHBhc3RlZCA9IGhpZGRlbl9pbnB1dC52YWx1ZS5yZXBsYWNlKC9cbi9nLCAiICIpOwogICAgCQkgICAgaGlkZGVuX2lucHV0LnZhbHVlID0gIiI7CgogICAgCQkJaW5wdXQgPSBpbnB1dC5zdWJzdHJpbmcoMCwgY3Vyc29yX2xvY2F0aW9uKSArIHBhc3RlZCArIGlucHV0LnN1YnN0cmluZyhjdXJzb3JfbG9jYXRpb24pOwogICAgCQkJY3Vyc29yX2xvY2F0aW9uICs9IHBhc3RlZC5sZW5ndGg7CgogICAgCQkgICAgdXBkYXRlX2lucHV0KCk7CgogICAgCQkJaGlkZGVuX2lucHV0LmJsdXIoKTsKICAgIAkJfSwgMCk7CgkJfQoKCQlmdW5jdGlvbiBrZXloYW5kbGVyKGUpIAoJCXsKCQkgICAgdmFyIGUgPSBlIHx8IHdpbmRvdy5ldmVudDsKCQkgICAgCgkJICAgIGxhc3Rfa2V5cHJlc3MgPSBuZXcgRGF0ZSgpOwoJCQkKCQkJLy8gSEFDSyB0byBwcmV2ZW50IHRoZSBzZWNvbmQgdGFiIGV2ZW50IGZyb20gY2xlYXJpbmcgYXV0b2NvbXBsZXRpb24KCQkJaWYgKGUua2V5Q29kZSAhPSA5KQoJCQkgICAgY2xlYXJfYXV0b2NvbXBsZXRlKCk7CgkJCQoJCQlpZiAoZS50eXBlID09ICJrZXlwcmVzcyIpIHsKCQkJICAgIGlmIChlLm1ldGFLZXkpIHsKCQkJICAgICAgICBpZiAoZS5jaGFyQ29kZSA9PSAxMDcpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbW1hbmQgSwoJCQkgICAgICAgICAgICBjbGVhcigpOwoJCQkgICAgICAgICAgICByZXR1cm47CgkJCSAgICAgICAgfQogICAgCQkJICAgIGlmIChlLmNoYXJDb2RlID09IDExOCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tbWFuZCBWCiAgICAJCQkgICAgICAgIHBhc3RlKCk7CiAgICAgICAgCQkJCXJldHVybjsKICAgIAkJCSAgICB9IGVsc2UgewogICAgICAgIAkJCQlyZXR1cm47CiAgICAJCQkgICAgfQogICAgCQkJfQogICAgCQkJZWxzZSBpZiAoZS5jdHJsS2V5KSB7CiAgICAJCQkJaWYgKGUuY2hhckNvZGUgPT0gMSB8fCBlLmNoYXJDb2RlID09IDk3KSB7CQkJICAgIC8vIGNvbnRyb2wgQQogICAgCQkJCQljdXJzb3JfbG9jYXRpb24gPSAwOwogICAgCQkJCX0gZWxzZSBpZiAoZS5jaGFyQ29kZSA9PSAzIHx8IGUuY2hhckNvZGUgPT0gOTkpIHsJICAgIC8vIGNvbnRyb2wgQwogICAgCQkJCQlpbnB1dCA9ICIiOwogICAgCQkJCX0gZWxzZSBpZiAoZS5jaGFyQ29kZSA9PSA1IHx8IGUuY2hhckNvZGUgPT0gMTAxKSB7CSAgICAvLyBjb250cm9sIEUKICAgIAkJCQkJY3Vyc29yX2xvY2F0aW9uID0gaW5wdXQubGVuZ3RoOwogICAgCQkJCX0gZWxzZSBpZiAoZS5jaGFyQ29kZSA9PSAyMikgeyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29udHJvbCBWCiAgICAgICAgICAgIAkJCXBhc3RlKCk7CiAgICAgICAgCQkJCXJldHVybjsKICAgICAgICAgICAgCQl9IGVsc2UgewogICAgICAgICAgICAJCSAgICByZXR1cm47CiAgICAgICAgICAgIAkJfQogICAgCQkJfQogICAgCQkJLy8gcHJpbnRhYmxlIGNoYXJhY3RlcnMgbXVzdCBjb21lIGZpcnN0IHNpbmNlIHNvbWUga2V5IGNvZGVzIGNvbmZsaWN0IGJldHdlZW4gU2FmYXJpIGFuZCBGaXJlZm94CiAgICAJCQllbHNlIGlmIChlLmNoYXJDb2RlID49IDMyICYmIGUuY2hhckNvZGUgPD0gMTI2KSB7IC8vIHByaW50YWJsZQogICAgCQkJCWlucHV0ID0gaW5wdXQuc3Vic3RyaW5nKDAsIGN1cnNvcl9sb2NhdGlvbikgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGUuY2hhckNvZGUpICsgaW5wdXQuc3Vic3RyaW5nKGN1cnNvcl9sb2NhdGlvbik7CiAgICAJCQkJY3Vyc29yX2xvY2F0aW9uKys7CiAgICAJCQkJdXBkYXRlX2F1dG9jb21wbGV0ZShmYWxzZSk7CiAgICAJCQl9CiAgICAJCQllbHNlIGlmIChlLmtleUNvZGUgPT0gOCB8fCBlLmtleUNvZGUgPT0gOTIpIHsgLy8gYmFja3NwYWNlCiAgICAJCQkJaWYgKGN1cnNvcl9sb2NhdGlvbiA+IDApIHsKICAgIAkJCQkJLy8gZ2V0IHRoZSBpbnB1dCBzdHJpbmcgd2l0aCB0aGUgY2hhcmFjdGVyIGF0IGN1cnNvcl9sb2NhdGlvbiByZW1vdmVkIGFuZCBtb3ZlIGN1cnNvcl9sb2NhdGlvbgogICAgCQkJCQlpbnB1dCA9IGlucHV0LnN1YnN0cmluZygwLCBjdXJzb3JfbG9jYXRpb24tMSkgKyBpbnB1dC5zdWJzdHJpbmcoY3Vyc29yX2xvY2F0aW9uKTsKICAgIAkJCQkJY3Vyc29yX2xvY2F0aW9uLS07CiAgICAJCQkJfQogICAgCQkJCXVwZGF0ZV9hdXRvY29tcGxldGUoZmFsc2UpOwogICAgCQkJfQogICAgCQkJZWxzZSBpZiAoZS5rZXlDb2RlID09IDMgfHwgZS5rZXlDb2RlID09IDEzKSB7IC8vIGVudGVyLCByZXR1cm4KICAgIAkJCQlleGVjdXRlX2lucHV0KCk7CiAgICAJCQl9CiAgICAJCQllbHNlIHsKICAgIAkJCQlyZXR1cm47CiAgICAJCQl9CiAgICAJCX0JCiAgICAJCWVsc2UgaWYgKGUudHlwZSA9PSAia2V5ZG93biIpIHsKICAgIAkJICAgIAoJICAgIAkgICAgaWYgKGUubWV0YUtleSkgewoJICAgIAkgICAgICAgIHJldHVybjsKICAgIAkJCX0KICAgIAkJCWVsc2UgaWYgKGUuY3RybEtleSkgewogICAgCQkJICAgIHJldHVybjsKCQkJICAgIH0KICAgIAkJICAgIGVsc2UgaWYgKChlLmtleUNvZGUgPT0gNjMyMzIgfHwgZS5rZXlDb2RlID09IDM4KSAmJiBoaXN0X251bSA8IGhpc3QubGVuZ3RoKSB7IC8vIHVwIGFycm93CiAgICAJCQkJaWYgKGhpc3RfbnVtID09IDApIGlucHV0X3NhdmVkID0gaW5wdXQ7CiAgICAJCQkJaGlzdF9udW0rKzsKICAgIAkJCQlpbnB1dCA9IGhpc3RbaGlzdC5sZW5ndGgtaGlzdF9udW1dOwogICAgCQkJCWN1cnNvcl9sb2NhdGlvbiA9IGlucHV0Lmxlbmd0aDsKICAgIAkJCX0KICAgIAkJCWVsc2UgaWYgKChlLmtleUNvZGUgPT0gNjMyMzMgfHwgZS5rZXlDb2RlID09IDQwKSAmJiBoaXN0X251bSA+IDApIHsgLy8gZG93biBhcnJvdwogICAgCQkJCWhpc3RfbnVtLS07CiAgICAJCQkJaW5wdXQgPSBoaXN0X251bSA/IGhpc3RbaGlzdC5sZW5ndGgtaGlzdF9udW1dIDogaW5wdXRfc2F2ZWQKICAgIAkJCQljdXJzb3JfbG9jYXRpb24gPSBpbnB1dC5sZW5ndGg7CiAgICAJCQl9CiAgICAJCQllbHNlIGlmICgoZS5rZXlDb2RlID09IDYzMjM0IHx8IGUua2V5Q29kZSA9PSAzNykgJiYgY3Vyc29yX2xvY2F0aW9uID4gMCkgeyAvLyBsZWZ0IGFycm93CiAgICAJCQkJY3Vyc29yX2xvY2F0aW9uLS07CiAgICAJCQl9CiAgICAJCQllbHNlIGlmICgoZS5rZXlDb2RlID09IDYzMjM1IHx8IGUua2V5Q29kZSA9PSAzOSkgJiYgY3Vyc29yX2xvY2F0aW9uIDwgaW5wdXQubGVuZ3RoKSB7IC8vIHJpZ2h0IGFycm93CiAgICAJCQkJY3Vyc29yX2xvY2F0aW9uKys7CiAgICAJCQl9CiAgICAJCSAgICBlbHNlIGlmIChlLmtleUNvZGUgPT0gOSkgeyAvLyB0YWIKICAgIAkJCQl1cGRhdGVfYXV0b2NvbXBsZXRlKHRydWUpOwogICAgCQkJfQogICAgCQkJZWxzZSB7CiAgICAJCQkgICAgcmV0dXJuOwogICAgCQkJfQogICAgCQl9CgoJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCQkKCQkJdXBkYXRlX2lucHV0KCk7CgkJfQoJCQoJCWZ1bmN0aW9uIGVtaXRFbGVtZW50KGVsZW1lbnQpIHsKCQkgICAgb3V0cHV0KG91dHB1dEZvck9iamVjdChlbGVtZW50KSk7CiAgICAJCWFucyA9IGVsZW1lbnQ7CgkJfQoKCQlmdW5jdGlvbiBnZXRSZWN0KG9iaikgewogICAgICAgIAl2YXIgdyA9IGggPSB4ID0geSA9IDA7CgkJICAgIGlmIChvYmoub2Zmc2V0UGFyZW50KSB7CiAgICAgICAgCSAgICB3ID0gb2JqLm9mZnNldFdpZHRoOwogICAgICAgIAkgICAgaCA9IG9iai5vZmZzZXRIZWlnaHQ7CgkJICAgICAgICBkbyB7CiAgICAJCQkgICAgeCArPSBvYmoub2Zmc2V0TGVmdDsKICAgIAkJCSAgICB5ICs9IG9iai5vZmZzZXRUb3A7CgkJICAgICAgICB9IHdoaWxlIChvYmogPSBvYmoub2Zmc2V0UGFyZW50KTsKCQkgICAgfQoJCQlyZXR1cm4ge3g6IHgsIHk6IHksIHc6IHcsIGg6IGh9OwogICAgICAgIH0KCQkKCQlmdW5jdGlvbiBoaWdobGlnaHRFbGVtZW50KGVsZW1lbnQpIHsKCQkgICAgdmFyIHAgPSBnZXRSZWN0KGVsZW1lbnQpOwoJCSAgICAKCQkgICAgaGlnaGxpZ2h0LnN0eWxlLnRvcCA9IHAueSArICJweCI7CiAgICAJCWhpZ2hsaWdodC5zdHlsZS5sZWZ0ID0gcC54ICsgInB4IjsKICAgICAgICAJaGlnaGxpZ2h0LnN0eWxlLndpZHRoID0gcC53ICsgInB4IjsKICAgICAgICAJaGlnaGxpZ2h0LnN0eWxlLmhlaWdodCA9IHAuaCArICJweCI7CgkJfQoJCQoJCWZ1bmN0aW9uIGNsZWFySGlnaGxpZ2h0KCkgewoJCSAgICBoaWdobGlnaHQuc3R5bGUudG9wID0gIi0xMDBweCI7CiAgICAgICAgCWhpZ2hsaWdodC5zdHlsZS5oZWlnaHQgPSAiMHB4IjsKCQl9CgkJCgkJZnVuY3Rpb24gb3V0cHV0Rm9yT2JqZWN0KG9iamVjdCkgewoJCSAgICB2YXIgb3V0cHV0OwoJCSAgICAKICAgICAgICAgICAgaWYgKG9iamVjdC5vZmZzZXRUb3AgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBvdXRwdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgICAgICAgICBvdXRwdXQuY2xhc3NOYW1lID0gImRvbWxpbmsiOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKHRhcmdldCwgZWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsgaGlnaGxpZ2h0RWxlbWVudChlbGVtZW50KTsgfSwgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsICBmdW5jdGlvbigpIHsgY2xlYXJIaWdobGlnaHQoKTsgfSwgICAgICAgICAgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICAgICBmdW5jdGlvbigpIHsgZW1pdEVsZW1lbnQoZWxlbWVudCk7IH0sICAgICAgZmFsc2UpOwogICAgICAgICAgICAgICAgfSkob3V0cHV0LCBvYmplY3QpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBvdXRwdXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoU3RyaW5nKG9iamVjdCkpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChvYmplY3QuY29uc3RydWN0b3IgPT0gTm9kZUxpc3QpIHsKICAgICAgICAgICAgICAgIG91dHB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICAgICAgICAgIG91dHB1dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiWyIpKTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmFwcGVuZENoaWxkKG91dHB1dEZvck9iamVjdChvYmplY3RbaV0pKTsKICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPSBvYmplY3QubGVuZ3RoLTEpCiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiLCAiKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBvdXRwdXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIl0iKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBvdXRwdXQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTdHJpbmcob2JqZWN0KSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG91dHB1dDsKCQl9CgkJCgkJZnVuY3Rpb24gZXhlY3V0ZV9pbnB1dCgpCgkJewoJCQloaXN0LnB1c2goaW5wdXQpOwoJCQkKCQkJcHJpbnRsbigiPiAiICsgaW5wdXQpOwoJCQl0cnkgewoJCQkJYW5zID0gZXZhbEluQ29udGV4dChpbnB1dCk7CgkJCX0gY2F0Y2ggKGVycikgewoJCQkJYW5zID0gZXJyOwoJCQl9CgkJCQoJCQl2YXIgaGFuZGxlZCA9IGZhbHNlOwoJCQlpZiAoYW5zICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgb3V0cHV0KG91dHB1dEZvck9iamVjdChhbnMpKTsKCQkJfQoJCQkKCQkJaW5wdXQgPSAiIjsKCQkJaGlzdF9udW0gPSAwOwoJCQljdXJzb3JfbG9jYXRpb24gPSAwOwoJCX0KCQkKCQlmdW5jdGlvbiB1cGRhdGVfYXV0b2NvbXBsZXRlKHJlcGxhY2UpIHsKCQkgICAgaWYgKHdpbmRvdy5kaXNhYmxlQXV0b2NvbXBsZXRlKQoJCSAgICAgICAgcmV0dXJuOwoJCSAgICAgICAgCgkJCXZhciBwYXJhbTEsIHBhcmFtMjsKCQkJdmFyIG1hdGNoX2NvbXBhcmUgPSBmdW5jdGlvbiAoYSwgYikgewoJCQkJaWYgKGFbcGFyYW0xXSA8IGJbcGFyYW0xXSkKCQkJCQlyZXR1cm4gLTE7CgkJCQlpZiAoYVtwYXJhbTFdID4gYltwYXJhbTFdKQoJCQkJCXJldHVybiAxOwoJCQkJaWYgKGFbcGFyYW0yXSA8IGJbcGFyYW0yXSkKCQkJCQlyZXR1cm4gLTE7CgkJCQlpZiAoYVtwYXJhbTJdID4gYltwYXJhbTJdKQoJCQkJCXJldHVybiAxOwoJCQkJcmV0dXJuIDA7CgkJCX0KCQkJCgkJCWNsZWFyX2F1dG9jb21wbGV0ZSgpOwoKCQkJLy8gT2JqZWN0aXZlLUogYXV0b2NvbXBsZXRlOgkJCQoJCQl2YXIgb2Jqal9tYXRjaGVzID0gW107CgkJCQoJCQl2YXIgb2Jqal9vYmo7CgkJCWlmICh0eXBlb2Yod2luZG93X2NvbnRleHQub2Jqal9wcmVwcm9jZXNzKSAhPSAidW5kZWZpbmVkIikgewoJCQkJdmFyIG9iampfbWF0Y2ggPSBpbnB1dC5zdWJzdHJpbmcoMCwgY3Vyc29yX2xvY2F0aW9uKS5tYXRjaCgvXFtbXHddK1tcc10rW1x3XSokLyk7CgkJCQlpZiAob2Jqal9tYXRjaCkgewoJCQkJCXZhciBwYXJ0cyA9IG9iampfbWF0Y2hbMF0uc3Vic3RyaW5nKDEpLnNwbGl0KCIgIik7CgkJCQkJb2Jqal9vYmpfbmFtZSA9IHBhcnRzWzBdOwoJCQkJCW9iampfbWF0Y2hfc3RyaW5nID0gKHBhcnRzLmxlbmd0aCA+IDEpID8gcGFydHNbMV0gOiAiIjsKCQkJCQkKCQkJCQl0cnkgewoJCQkJCQlvYmpqX29iaiA9IGV2YWxJbkNvbnRleHQocGFydHNbMF0pOwoJCQkJCQl2YXIgaXNhID0gb2Jqal9vYmouaXNhOwoJCQkJCQl2YXIgZGVwdGggPSAwOwoJCQkJCQl3aGlsZSAoaXNhKSB7CgkJCQkJCQlmb3IgKHZhciBuYW1lIGluIGlzYS5tZXRob2RzLmJ1Y2tldHMpCgkJCQkJCQkJaWYgKG5hbWUuaW5kZXhPZihvYmpqX21hdGNoX3N0cmluZykgPT0gMCkKCQkJCQkJCQkJb2Jqal9tYXRjaGVzLnB1c2goeyBuYW1lOiBuYW1lLCB0eXBlOiBpc2EubmFtZSwgZGVwdGg6IGRlcHRoIH0pOwoJCQkJCQkJaXNhID0gaXNhLnN1cGVyX2NsYXNzOwoJCQkJCQkJZGVwdGgrKzsKCQkJCQkJfQoJCQkJCX0gY2F0Y2ggKGVycikgewoJCQkJCQlvYmpqX29iaiA9IG51bGw7CgkJCQkJfQoJCQkJfQoJCQl9CgkJCQoJCQkvLyBKYXZhU2NyaXB0IGF1dG9jb21wbGV0ZToKCQkJdmFyIGpzX21hdGNoZXMgPSBbXTsKCQkJCgkJCXZhciBqc19tYXRjaF90bXAgPSBpbnB1dC5zdWJzdHJpbmcoMCwgY3Vyc29yX2xvY2F0aW9uKS5tYXRjaCgvW1x3XVtcd1wuXCRcKFwpXFtcXVwiXCddKiQvKTsKCQkJdmFyIGpzX21hdGNoID0gKGpzX21hdGNoX3RtcCkgPyBqc19tYXRjaF90bXBbMF0gOiAiIjsKCQkJdmFyIGpzX29ial9uYW1lICAgICA9IGpzX21hdGNoLnN1YnN0cmluZygwLCBqc19tYXRjaC5sYXN0SW5kZXhPZigiLiIpKTsKCQkJdmFyIGpzX21hdGNoX3N0cmluZyA9IGpzX21hdGNoLnN1YnN0cmluZyhqc19tYXRjaC5sYXN0SW5kZXhPZigiLiIpKzEpOwoJCQkKCQkJdmFyIGpzX29iaiA9IG51bGw7CgkJCWlmIChqc19tYXRjaC5pbmRleE9mKCIuIikgPCAwKSB7CgkJCQlqc19vYmogPSB3aW5kb3dfY29udGV4dDsgLy8gZ2xvYmFsCgkJCX0gZWxzZSB7CgkJCQl0cnkgewoJCQkJCWpzX29iaiA9IGV2YWxJbkNvbnRleHQoanNfb2JqX25hbWUpOwoJCQkJfSBjYXRjaCAoZXJyKSB7CgkJCQkJanNfb2JqID0gbnVsbDsKCQkJCX0KCQkJfQoJCQlpZiAoanNfb2JqKQoJCQkJZm9yICh2YXIgbmFtZSBpbiBqc19vYmopIHsKCQkJCSAgICB0cnkgewogICAgCQkJCQlpZiAobmFtZS5pbmRleE9mKGpzX21hdGNoX3N0cmluZykgPT0gMCkKICAgIAkJCQkJCWpzX21hdGNoZXMucHVzaCh7IG5hbWU6IG5hbWUsIHR5cGU6IGRlZXBfdHlwZW9mKGpzX29ialtuYW1lXSkgfSk7CgkJCQkgICAgfSBjYXRjaCAoZSkgewoJCQkJICAgICAgICAvL2NvbnNvbGUubG9nKCJFcnJvciBidXQgY29udGludWluZzogIiArIGUgKyAiICgiK25hbWUrIikiKTsKCQkJCSAgICB9CgkJCQl9CgkJCQoJCQl2YXIgbWF0Y2hlcywgbWF0Y2hfc3RyaW5nOwoJCQkvLyBHaXZlIE9iamVjdGl2ZS1KIHByaW9yaXR5CgkJCWlmIChvYmpqX29iaikgewoJCQkJbWF0Y2hfc3RyaW5nCT0gb2Jqal9tYXRjaF9zdHJpbmc7CgkJCQltYXRjaGVzCQkJPSBvYmpqX21hdGNoZXM7CgkJCQlwYXJhbTEJCQk9ICJkZXB0aCI7CgkJCQlwYXJhbTIJCQk9ICJuYW1lIjsKCQkJfSBlbHNlIHsKCQkJCW1hdGNoX3N0cmluZwk9IGpzX21hdGNoX3N0cmluZzsKCQkJCW1hdGNoZXMJCQk9IGpzX21hdGNoZXM7CgkJCQlwYXJhbTEJCQk9ICJ0eXBlIjsKCQkJCXBhcmFtMgkJCT0gIm5hbWUiOwoJCQl9CgkJCQoJCQkvLyBDb21tb24gdG8gYm90aCBKYXZhU2NyaXB0IGFuZCBPYmplY3RpdmUtSjoKCQkJbWF0Y2hlcyA9IG1hdGNoZXMuc29ydChtYXRjaF9jb21wYXJlKTsKCQkJCgkJCWlmIChtYXRjaGVzLmxlbmd0aCA+IDApIHsKCQkJCXZhciBhdXRvY29tcGxldGVfbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInVsIik7CgkJCQlhdXRvY29tcGxldGVfbGlzdC5zZXRBdHRyaWJ1dGUoImlkIiwgImF1dG9jb21wbGV0ZS1saXN0Iik7CgkJCQkKCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykgewoJCQkJCgkJCQkJdHJ5IHsKCQkJCQkJdmFyIGF1dG9jb21wbGV0ZV9pdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGkiKTsKCQkJCQkJYXV0b2NvbXBsZXRlX2l0ZW0ucHJvcF9uYW1lID0gbWF0Y2hlc1tpXS5uYW1lOwoJCQkJCQlhdXRvY29tcGxldGVfaXRlbS5wcm9wX3R5cGUgPSBtYXRjaGVzW2ldLnR5cGU7CiAgICAgICAgICAgICAgICAgICAgCQoJCQkJCQlhdXRvY29tcGxldGVfaXRlbS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWlucHV0ID0gcmVwbGFjZV9tYXRjaChpbnB1dCwgbWF0Y2hfc3RyaW5nLCBlLnRhcmdldC5wcm9wX25hbWUsIGUudGFyZ2V0LnByb3BfdHlwZSk7CgkJCQkJCQl1cGRhdGVfaW5wdXQoKTsKCQkJCQkJCWNsZWFyX2F1dG9jb21wbGV0ZSgpOwoJCQkJCQl9LCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgCQoJCQkJCQlhdXRvY29tcGxldGVfaXRlbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShtYXRjaGVzW2ldLm5hbWUgKyAiICgiKyBtYXRjaGVzW2ldLnR5cGUgKyIpIikpOwoJCQkJCQkKCQkJCQkJYXV0b2NvbXBsZXRlX2xpc3QuYXBwZW5kQ2hpbGQoYXV0b2NvbXBsZXRlX2l0ZW0pOwoJCQkJCX0gY2F0Y2goZXJyKSB7CgkJCQkJfQoJCQkJfQoJCQkJCgkJCQlpZiAobWF0Y2hlcy5sZW5ndGggPiAwKSB7CgkJCQkJaWYgKG1hdGNoZXMubGVuZ3RoID4gMSB8fCAhcmVwbGFjZSkKCQkJCQkJYXV0b2NvbXBsZXRlX3Jlc3VsdHMuYXBwZW5kQ2hpbGQoYXV0b2NvbXBsZXRlX2xpc3QpOwoJCQkJCQoJCQkJCWlmIChyZXBsYWNlKSB7CgkJCQkJCXZhciBudW1fbWF0Y2hpbmdfY2hhcnMgPSBtYXRjaGluZ19jaGFycyhtYXRjaGVzKTsKCQkJCQkJdmFyIHJlcGxhY2VtZW50ID0gbWF0Y2hlc1swXS5uYW1lLnN1YnN0cmluZygwLCBudW1fbWF0Y2hpbmdfY2hhcnMrMSk7CgkJCQkJCQoJCQkJCQl2YXIgdHlwZSA9IChtYXRjaGVzLmxlbmd0aCA9PSAxKSA/IG1hdGNoZXNbMF0udHlwZSA6IG51bGw7CgkJCQkJCWlucHV0ID0gcmVwbGFjZV9tYXRjaChpbnB1dCwgbWF0Y2hfc3RyaW5nLCByZXBsYWNlbWVudCwgdHlwZSk7CgkJCQkJCQoJCQkJCQltYXRjaF9zdHJpbmcgPSByZXBsYWNlbWVudDsgLy8gaGFja2lzaDogdXBkYXRlIHNvIHN1YnNlcXVlbnQgcmVwbGFjZW1lbnQgd29yayAoY2F1c2Ugb2YgdGhhdCBjbG9zdXJlIGNyYXApCgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoJCQoJCWZ1bmN0aW9uIHVwZGF0ZV9pbnB1dCgpCgkJewogICAgICAgICAgICB3aGlsZSAoYmVnaW5uaW5nLmZpcnN0Q2hpbGQpCiAgICAgICAgICAgICAgICBiZWdpbm5pbmcucmVtb3ZlQ2hpbGQoYmVnaW5uaW5nLmZpcnN0Q2hpbGQpOwogICAgICAgICAgICB3aGlsZSAoY3Vyc29yLmZpcnN0Q2hpbGQpCiAgICAgICAgICAgICAgICBjdXJzb3IucmVtb3ZlQ2hpbGQoY3Vyc29yLmZpcnN0Q2hpbGQpOwogICAgICAgICAgICB3aGlsZSAoZW5kLmZpcnN0Q2hpbGQpCiAgICAgICAgICAgICAgICBlbmQucmVtb3ZlQ2hpbGQoZW5kLmZpcnN0Q2hpbGQpOwogICAgICAgICAgICAKICAgICAgICAgICAgYmVnaW5uaW5nLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGlucHV0LnN1YnN0cmluZygwLCBjdXJzb3JfbG9jYXRpb24pKSk7CiAgICAgICAgICAgIGN1cnNvci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgoY3Vyc29yX2xvY2F0aW9uIDwgaW5wdXQubGVuZ3RoKSA/IGlucHV0LmNoYXJBdChjdXJzb3JfbG9jYXRpb24pIDogIiAiKSk7CiAgICAgICAgICAgIGVuZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShpbnB1dC5zdWJzdHJpbmcoY3Vyc29yX2xvY2F0aW9uKzEpKSk7CiAgICAgICAgICAgIAoJCQl2YXIgdG9wID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSgkKCJjb25zb2xlLWhpc3RvcnkiKSwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSgiaGVpZ2h0Iik7CgkJCXZhciB0b3BfdmFsID0gcGFyc2VJbnQodG9wKSAtIDEwMDsgLy8gLSAoaW5uZXJIZWlnaHQvMik7CgkJCXNjcm9sbFRvKDAsIHRvcF92YWwpOwoJCX0KCQkKCQlmdW5jdGlvbiBwcmludChsaW5lKSB7IGNvbnNvbGVfaGlzdG9yeS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShsaW5lKSk7IH0KCQlmdW5jdGlvbiBwcmludGxuKGxpbmUpIHsgY29uc29sZV9oaXN0b3J5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGxpbmUgKyAiXG4iKSk7IH0KCQlmdW5jdGlvbiBvdXRwdXQoZWxlbWVudCkgeyBjb25zb2xlX2hpc3RvcnkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7IGNvbnNvbGVfaGlzdG9yeS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiXG4iKSkgfQoJCQoJCXdpbmRvdy5zZXRUaW1lb3V0KGluaXQsIDApOwogICAgfSkoKTsKICAgIAoJPC9zY3JpcHQ+CjwvaGVhZD4KPGJvZHk+Cgo8ZGl2IGNsYXNzPSJjb25zb2xlIiBpZD0iY29uc29sZS1oaXN0b3J5Ij48L2Rpdj4KPGRpdiBjbGFzcz0iY29uc29sZSIgaWQ9ImNvbnNvbGUtaW5wdXQiPjxzcGFuPiZndDsmbmJzcDs8L3NwYW4+PHNwYW4gaWQ9ImlucHV0LWJlZ2lubmluZyI+PC9zcGFuPjxzcGFuIGlkPSJjdXJzb3IiPiZuYnNwOzwvc3Bhbj48c3BhbiBpZD0iaW5wdXQtZW5kIj48L3NwYW4+PC9kaXY+Cgo8ZGl2IGlkPSJhdXRvY29tcGxldGUtcmVzdWx0cyI+PC9kaXY+CjxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iaGlkZGVuLWlucHV0IiAvPgo8L2JvZHk+CjwvaHRtbD4K';dataurl='data:text/html;charset=utf-8;base64,'+data;window_name = confirm('Open in new window? (\'OK\' for new, \'Cancel\' for existing)')?'_blank':'_self';new_window = window.open('',window_name,'height=600,width=400,menubar=no,location=no,toolbar=no,status=yes,resizable=yes,scrollbars=yes');new_window.document.write(atob(data));setTimeout(function() { new_window.focus(); }, 0);})();
}}}
https://web.archive.org/web/20090209021035/http://turtle.dojotoolkit.org/~david/recss.html
{{{
javascript:void(function(){var i,a,s;a=document.getElementsByTagName('link');for(i=0;i<a.length;i++){s=a[i];if(s.rel.toLowerCase().indexOf('stylesheet')>=0&&s.href) {var h=s.href.replace(/(&|%5C?)forceReload=\d+/,'');s.href=h+(h.indexOf('?')>=0?'&':'?')+'forceReload='+(new Date().valueOf())}}})();
}}}</pre>
</div>
